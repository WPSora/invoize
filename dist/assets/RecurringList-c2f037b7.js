import{S as Q,i as z,s as H,e as S,d as D,f as b,v,k as h,a4 as P,a5 as W,c as k,a as V,m as w,a6 as j,j as m,t as $,l as L,q as Ce,p as Ee,B as te,n as J,o as y,h as G,u as Ae,w as Jt,x as E,Q as q,g as M,L as ne,aW as ie,X as U,O as Kt,Z as Y,P as Se}from"./Toaster.svelte_svelte_type_style_lang-3086cbd0.js";import{R as Yt,T as xt,a as pe,b as ge}from"./index-fcd26607.js";import{h as de,s as we,a as me,b as Re,c as De,d as Ne,e as Oe,f as Pe,g as Ve,j as We,k as je,l as Be,m as Qe}from"./recurring-store-e654427c.js";import{n as ze}from"./invoice-store-89da11de.js";import{h as $e,p as en,u as tn,e as nn,d as rn}from"./styles-e7e55f44.js";import{c as T,a as Ge,r as an}from"./Pagination-325e8fb0.js";import{h as Le,i as Xe}from"./errorHelper-eef9e97b.js";import{R as sn,T as ln,D as on,G as cn,a as Ze,S as un}from"./index-dac4cf97.js";import{R as fn,A as _n,a as pn,b as dn,c as mn,d as gn,e as $n}from"./index-e2de6100.js";import{a as bn}from"./actionHelper-40ee3d39.js";import{f as F,c as hn,g as Te,R as B}from"./enum-9d62bdc6.js";import{t as vn}from"./triggerTabUpdateHelper-54f25315.js";import{C as kn}from"./checkbox-3eb65d0a.js";import{L as wn}from"./label-7d3a217f.js";import{E as Ln}from"./eye-c27fcad4.js";import{R as Tn}from"./refresh-ccw-0ff8dd89.js";import{P as In}from"./pencil-15e1e778.js";import{P as Je}from"./plus-a3b54817.js";import{B as Cn}from"./CreateRecurringModal-63416434.js";import{a as En}from"./card-description-e849d062.js";import{h as An}from"./moment-a9aaa855.js";import{c as be}from"./capitalHelper-77c0a756.js";import{c as He}from"./decimalFormatter-88348579.js";import{s as Sn}from"./invoice-all-tab-table-column-a3f5cb21.js";import{T as ve,f as x}from"./Tab-da9e114e.js";import{B as Rn,r as _e}from"./Breadcrumb-8a216a28.js";import{P as Dn}from"./PageTitle-5aeb5b6f.js";import{S as Nn}from"./SearchBar-139f3fc2.js";import"./updater-cbd8223a.js";import"./options-89ca2928.js";import"./index-2f32262e.js";import"./x-e55b9835.js";import"./index-7095afc4.js";import"./arrays-9d05857f.js";import"./Check-fa20f0eb.js";import"./action-39728114.js";import"./helpers-9268112f.js";import"./create-e552ce8d.js";import"./separator-d7b15c7c.js";import"./invoice-list-store-3ca58dd7.js";import"./input-342b31a9.js";import"./setDefaultRecurring-f1d67430.js";import"./history-71cd67db.js";import"./send-e1cefc13.js";import"./circle-dollar-sign-0af52bca.js";import"./id-cell-05587cea.js";import"./table-row-9bf80d0a.js";import"./App-e17b8008.js";import"./ProBadge-35078e4e.js";import"./main-236b23fb.js";import"./Toaster-907ac0b8.js";import"./index-0984da6d.js";import"./search-b20aeeac.js";function On(a){let e;return{c(){e=S("div"),e.textContent="Action",D(e,"class","text-center")},m(n,t){b(n,e,t)},p:v,i:v,o:v,d(n){n&&h(e)}}}class Ke extends Q{constructor(e){super(),z(this,e,null,On,H,{})}}function Me(a,e,n){const t=a.slice();return t[19]=e[n],t}function Pn(a){let e,n;return e=new un({props:{class:"h-4"}}),{c(){k(e.$$.fragment)},m(t,r){w(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Vn(a){let e,n;return e=new Tn({props:{class:"h-4 animate-spin"}}),{c(){k(e.$$.fragment)},m(t,r){w(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Wn(a){let e,n,t,r;const i=[Vn,Pn],s=[];function _(o,c){return o[3]?0:1}return e=_(a),n=s[e]=i[e](a),{c(){n.c(),t=J()},m(o,c){s[e].m(o,c),b(o,t,c),r=!0},p(o,c){let u=e;e=_(o),e!==u&&(y(),$(s[u],1,1,()=>{s[u]=null}),G(),n=s[e],n||(n=s[e]=i[e](o),n.c()),m(n,1),n.m(t.parentNode,t))},i(o){r||(m(n),r=!0)},o(o){$(n),r=!1},d(o){o&&h(t),s[e].d(o)}}}function jn(a){let e,n;return e=new te({props:{size:"icon",variant:"link",disabled:a[3],class:"hover:text-background w-6 h-6 hover:bg-primary active:bg-primary-300",$$slots:{default:[Wn]},$$scope:{ctx:a}}}),{c(){k(e.$$.fragment)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&8&&(i.disabled=t[3]),r&4194312&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Bn(a){let e,n,t;return n=new Ln({props:{class:"text-inherit",size:16}}),{c(){e=E(`Preview
        `),k(n.$$.fragment)},m(r,i){b(r,e,i),w(n,r,i),t=!0},p:v,i(r){t||(m(n.$$.fragment,r),t=!0)},o(r){$(n.$$.fragment,r),t=!1},d(r){r&&h(e),L(n,r)}}}function Qn(a){let e,n;return e=new In({props:{class:"text-black",size:16}}),{c(){k(e.$$.fragment)},m(t,r){w(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function zn(a){let e,n;return e=new Je({props:{class:"text-green-700",size:16}}),{c(){k(e.$$.fragment)},m(t,r){w(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Hn(a){let e,n;return e=new Cn({props:{class:"text-destructive",size:16}}),{c(){k(e.$$.fragment)},m(t,r){w(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Mn(a){let e,n;return e=new En({props:{class:"text-green-600",size:16}}),{c(){k(e.$$.fragment)},m(t,r){w(e,t,r),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Un(a){let e=a[19].label+"",n,t,r,i,s,_;const o=[Mn,Hn,zn,Qn],c=[];function u(l,f){return l[19].status===F.ACTIVE?0:l[19].status===F.INACTIVE?1:l[19].status===F.CREATE?2:l[19].status===F.EDIT?3:-1}return~(r=u(a))&&(i=c[r]=o[r](a)),{c(){n=E(e),t=V(),i&&i.c(),s=V()},m(l,f){b(l,n,f),b(l,t,f),~r&&c[r].m(l,f),b(l,s,f),_=!0},p(l,f){(!_||f&256)&&e!==(e=l[19].label+"")&&q(n,e);let g=r;r=u(l),r!==g&&(i&&(y(),$(c[g],1,1,()=>{c[g]=null}),G()),~r?(i=c[r],i||(i=c[r]=o[r](l),i.c()),m(i,1),i.m(s.parentNode,s)):i=null)},i(l){_||(m(i),_=!0)},o(l){$(i),_=!1},d(l){l&&(h(n),h(t),h(s)),~r&&c[r].d(l)}}}function Ue(a){let e,n;function t(){return a[16](a[19])}return e=new Ze({props:{class:"cursor-pointer gap-2 flex justify-between text-[13px] data-[highlighted]:bg-primary data-[highlighted]:text-white "+(a[19].status===F.ACTIVE||a[19].status===F.CREATE?"text-green-600":a[19].status===F.INACTIVE?"text-destructive":"text-black"),$$slots:{default:[Un]},$$scope:{ctx:a}}}),e.$on("click",t),{c(){k(e.$$.fragment)},m(r,i){w(e,r,i),n=!0},p(r,i){a=r;const s={};i&256&&(s.class="cursor-pointer gap-2 flex justify-between text-[13px] data-[highlighted]:bg-primary data-[highlighted]:text-white "+(a[19].status===F.ACTIVE||a[19].status===F.CREATE?"text-green-600":a[19].status===F.INACTIVE?"text-destructive":"text-black")),i&4194560&&(s.$$scope={dirty:i,ctx:a}),e.$set(s)},i(r){n||(m(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){L(e,r)}}}function Fn(a){let e,n,t,r;e=new Ze({props:{class:"cursor-pointer gap-2 flex justify-between text-[13px] data-[highlighted]:bg-primary data-[highlighted]:text-white",$$slots:{default:[Bn]},$$scope:{ctx:a}}}),e.$on("click",a[15]);let i=Ae(a[8]),s=[];for(let o=0;o<i.length;o+=1)s[o]=Ue(Me(a,i,o));const _=o=>$(s[o],1,1,()=>{s[o]=null});return{c(){k(e.$$.fragment),n=V();for(let o=0;o<s.length;o+=1)s[o].c();t=J()},m(o,c){w(e,o,c),b(o,n,c);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(o,c);b(o,t,c),r=!0},p(o,c){const u={};if(c&4194304&&(u.$$scope={dirty:c,ctx:o}),e.$set(u),c&768){i=Ae(o[8]);let l;for(l=0;l<i.length;l+=1){const f=Me(o,i,l);s[l]?(s[l].p(f,c),m(s[l],1)):(s[l]=Ue(f),s[l].c(),m(s[l],1),s[l].m(t.parentNode,t))}for(y(),l=i.length;l<s.length;l+=1)_(l);G()}},i(o){if(!r){m(e.$$.fragment,o);for(let c=0;c<i.length;c+=1)m(s[c]);r=!0}},o(o){$(e.$$.fragment,o),s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);r=!1},d(o){o&&(h(n),h(t)),L(e,o),Jt(s,o)}}}function qn(a){let e,n;return e=new cn({props:{$$slots:{default:[Fn]},$$scope:{ctx:a}}}),{c(){k(e.$$.fragment)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&4194565&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function yn(a){let e,n,t,r,i;return n=new ln({props:{class:"p-0",$$slots:{default:[jn]},$$scope:{ctx:a}}}),r=new on({props:{class:"w-48 p-2 shadow-xl bg-gradient-to-tr from-slate-200 to-white",$$slots:{default:[qn]},$$scope:{ctx:a}}}),{c(){e=S("div"),k(n.$$.fragment),t=V(),k(r.$$.fragment),D(e,"class","flex justify-center")},m(s,_){b(s,e,_),w(n,e,null),b(s,t,_),w(r,s,_),i=!0},p(s,_){const o={};_&4194312&&(o.$$scope={dirty:_,ctx:s}),n.$set(o);const c={};_&4194565&&(c.$$scope={dirty:_,ctx:s}),r.$set(c)},i(s){i||(m(n.$$.fragment,s),m(r.$$.fragment,s),i=!0)},o(s){$(n.$$.fragment,s),$(r.$$.fragment,s),i=!1},d(s){s&&(h(e),h(t)),L(n),L(r,s)}}}function Gn(a){let e;return{c(){e=E("Are you sure?")},m(n,t){b(n,e,t)},d(n){n&&h(e)}}}function Fe(a){let e,n,t,r,i,s;function _(c){a[17](c)}let o={id:"send-email"};return a[7]!==void 0&&(o.checked=a[7]),n=new kn({props:o}),P.push(()=>W(n,"checked",_)),i=new wn({props:{for:"send-email",$$slots:{default:[Xn]},$$scope:{ctx:a}}}),{c(){e=S("div"),k(n.$$.fragment),r=V(),k(i.$$.fragment),D(e,"class","flex flex-row flex-nowrap items-center gap-x-2 py-2")},m(c,u){b(c,e,u),w(n,e,null),M(e,r),w(i,e,null),s=!0},p(c,u){const l={};!t&&u&128&&(t=!0,l.checked=c[7],j(()=>t=!1)),n.$set(l);const f={};u&4194304&&(f.$$scope={dirty:u,ctx:c}),i.$set(f)},i(c){s||(m(n.$$.fragment,c),m(i.$$.fragment,c),s=!0)},o(c){$(n.$$.fragment,c),$(i.$$.fragment,c),s=!1},d(c){c&&h(e),L(n),L(i)}}}function Xn(a){let e;return{c(){e=E("Send invoice to customer's email")},m(n,t){b(n,e,t)},d(n){n&&h(e)}}}function Zn(a){let e,n,t,r,i,s,_,o,c,u,l=a[6]===F.CREATE&&Fe(a);return{c(){e=E("Are you sure you want to "),n=S("span"),t=E(a[5]),r=E(` recurring invoice
        `),i=S("span"),s=E(a[1]),_=E("?"),o=V(),l&&l.c(),c=J(),D(n,"class","text-primary"),D(i,"class","text-primary")},m(f,g){b(f,e,g),b(f,n,g),M(n,t),b(f,r,g),b(f,i,g),M(i,s),M(i,_),b(f,o,g),l&&l.m(f,g),b(f,c,g),u=!0},p(f,g){(!u||g&32)&&q(t,f[5]),(!u||g&2)&&q(s,f[1]),f[6]===F.CREATE?l?(l.p(f,g),g&64&&m(l,1)):(l=Fe(f),l.c(),m(l,1),l.m(c.parentNode,c)):l&&(y(),$(l,1,1,()=>{l=null}),G())},i(f){u||(m(l),u=!0)},o(f){$(l),u=!1},d(f){f&&(h(e),h(n),h(r),h(i),h(o),h(c)),l&&l.d(f)}}}function Jn(a){let e,n,t,r;return e=new mn({props:{$$slots:{default:[Gn]},$$scope:{ctx:a}}}),t=new gn({props:{$$slots:{default:[Zn]},$$scope:{ctx:a}}}),{c(){k(e.$$.fragment),n=V(),k(t.$$.fragment)},m(i,s){w(e,i,s),b(i,n,s),w(t,i,s),r=!0},p(i,s){const _={};s&4194304&&(_.$$scope={dirty:s,ctx:i}),e.$set(_);const o={};s&4194530&&(o.$$scope={dirty:s,ctx:i}),t.$set(o)},i(i){r||(m(e.$$.fragment,i),m(t.$$.fragment,i),r=!0)},o(i){$(e.$$.fragment,i),$(t.$$.fragment,i),r=!1},d(i){i&&h(n),L(e,i),L(t,i)}}}function Kn(a){let e;return{c(){e=E("Cancel")},m(n,t){b(n,e,t)},d(n){n&&h(e)}}}function Yn(a){let e,n;return e=new te({props:{variant:"default",disabled:a[3],$$slots:{default:[rr]},$$scope:{ctx:a}}}),e.$on("click",a[11]),{c(){k(e.$$.fragment)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&8&&(i.disabled=t[3]),r&4194312&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function xn(a){let e,n;return e=new te({props:{variant:"destructive",disabled:a[3],$$slots:{default:[sr]},$$scope:{ctx:a}}}),e.$on("click",a[10]),{c(){k(e.$$.fragment)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&8&&(i.disabled=t[3]),r&4194312&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function er(a){let e,n;return e=new te({props:{variant:"default",disabled:a[3],$$slots:{default:[cr]},$$scope:{ctx:a}}}),e.$on("click",a[10]),{c(){k(e.$$.fragment)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&8&&(i.disabled=t[3]),r&4194312&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function tr(a){let e=Te.CREATE+"",n;return{c(){n=E(e)},m(t,r){b(t,n,r)},p:v,i:v,o:v,d(t){t&&h(n)}}}function nr(a){let e,n,t;return e=new ne({props:{class:"mr-2 w-4 h-4 animate-spin"}}),{c(){k(e.$$.fragment),n=E(`
            Saving`)},m(r,i){w(e,r,i),b(r,n,i),t=!0},p:v,i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){r&&h(n),L(e,r)}}}function rr(a){let e,n,t,r;const i=[nr,tr],s=[];function _(o,c){return o[3]?0:1}return e=_(a),n=s[e]=i[e](a),{c(){n.c(),t=J()},m(o,c){s[e].m(o,c),b(o,t,c),r=!0},p(o,c){let u=e;e=_(o),e===u?s[e].p(o,c):(y(),$(s[u],1,1,()=>{s[u]=null}),G(),n=s[e],n?n.p(o,c):(n=s[e]=i[e](o),n.c()),m(n,1),n.m(t.parentNode,t))},i(o){r||(m(n),r=!0)},o(o){$(n),r=!1},d(o){o&&h(t),s[e].d(o)}}}function ar(a){let e=Te.INACTIVATE+"",n;return{c(){n=E(e)},m(t,r){b(t,n,r)},p:v,i:v,o:v,d(t){t&&h(n)}}}function ir(a){let e,n,t;return e=new ne({props:{class:"mr-2 w-4 h-4 animate-spin"}}),{c(){k(e.$$.fragment),n=E(`
            Saving`)},m(r,i){w(e,r,i),b(r,n,i),t=!0},p:v,i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){r&&h(n),L(e,r)}}}function sr(a){let e,n,t,r;const i=[ir,ar],s=[];function _(o,c){return o[3]?0:1}return e=_(a),n=s[e]=i[e](a),{c(){n.c(),t=J()},m(o,c){s[e].m(o,c),b(o,t,c),r=!0},p(o,c){let u=e;e=_(o),e===u?s[e].p(o,c):(y(),$(s[u],1,1,()=>{s[u]=null}),G(),n=s[e],n?n.p(o,c):(n=s[e]=i[e](o),n.c()),m(n,1),n.m(t.parentNode,t))},i(o){r||(m(n),r=!0)},o(o){$(n),r=!1},d(o){o&&h(t),s[e].d(o)}}}function lr(a){let e=Te.ACTIVATE+"",n;return{c(){n=E(e)},m(t,r){b(t,n,r)},p:v,i:v,o:v,d(t){t&&h(n)}}}function or(a){let e,n,t;return e=new ne({props:{class:"mr-2 w-4 h-4 animate-spin"}}),{c(){k(e.$$.fragment),n=E(`
            Saving`)},m(r,i){w(e,r,i),b(r,n,i),t=!0},p:v,i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){$(e.$$.fragment,r),t=!1},d(r){r&&h(n),L(e,r)}}}function cr(a){let e,n,t,r;const i=[or,lr],s=[];function _(o,c){return o[3]?0:1}return e=_(a),n=s[e]=i[e](a),{c(){n.c(),t=J()},m(o,c){s[e].m(o,c),b(o,t,c),r=!0},p(o,c){let u=e;e=_(o),e===u?s[e].p(o,c):(y(),$(s[u],1,1,()=>{s[u]=null}),G(),n=s[e],n?n.p(o,c):(n=s[e]=i[e](o),n.c()),m(n,1),n.m(t.parentNode,t))},i(o){r||(m(n),r=!0)},o(o){$(n),r=!1},d(o){o&&h(t),s[e].d(o)}}}function ur(a){let e,n,t,r,i,s;e=new $n({props:{$$slots:{default:[Kn]},$$scope:{ctx:a}}});const _=[er,xn,Yn],o=[];function c(u,l){return u[6]===F.ACTIVE?0:u[6]===F.INACTIVE?1:u[6]===F.CREATE?2:-1}return~(t=c(a))&&(r=o[t]=_[t](a)),{c(){k(e.$$.fragment),n=V(),r&&r.c(),i=J()},m(u,l){w(e,u,l),b(u,n,l),~t&&o[t].m(u,l),b(u,i,l),s=!0},p(u,l){const f={};l&4194304&&(f.$$scope={dirty:l,ctx:u}),e.$set(f);let g=t;t=c(u),t===g?~t&&o[t].p(u,l):(r&&(y(),$(o[g],1,1,()=>{o[g]=null}),G()),~t?(r=o[t],r?r.p(u,l):(r=o[t]=_[t](u),r.c()),m(r,1),r.m(i.parentNode,i)):r=null)},i(u){s||(m(e.$$.fragment,u),m(r),s=!0)},o(u){$(e.$$.fragment,u),$(r),s=!1},d(u){u&&(h(n),h(i)),L(e,u),~t&&o[t].d(u)}}}function fr(a){let e,n,t,r;return e=new pn({props:{$$slots:{default:[Jn]},$$scope:{ctx:a}}}),t=new dn({props:{$$slots:{default:[ur]},$$scope:{ctx:a}}}),{c(){k(e.$$.fragment),n=V(),k(t.$$.fragment)},m(i,s){w(e,i,s),b(i,n,s),w(t,i,s),r=!0},p(i,s){const _={};s&4194530&&(_.$$scope={dirty:s,ctx:i}),e.$set(_);const o={};s&4194376&&(o.$$scope={dirty:s,ctx:i}),t.$set(o)},i(i){r||(m(e.$$.fragment,i),m(t.$$.fragment,i),r=!0)},o(i){$(e.$$.fragment,i),$(t.$$.fragment,i),r=!1},d(i){i&&h(n),L(e,i),L(t,i)}}}function _r(a){let e,n;return e=new _n({props:{$$slots:{default:[fr]},$$scope:{ctx:a}}}),{c(){k(e.$$.fragment)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&4194538&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function pr(a){let e,n,t,r,i;e=new sn({props:{$$slots:{default:[yn]},$$scope:{ctx:a}}});function s(o){a[18](o)}let _={$$slots:{default:[_r]},$$scope:{ctx:a}};return a[4]!==void 0&&(_.open=a[4]),t=new fn({props:_}),P.push(()=>W(t,"open",s)),{c(){k(e.$$.fragment),n=V(),k(t.$$.fragment)},m(o,c){w(e,o,c),b(o,n,c),w(t,o,c),i=!0},p(o,[c]){const u={};c&4194573&&(u.$$scope={dirty:c,ctx:o}),e.$set(u);const l={};c&4194538&&(l.$$scope={dirty:c,ctx:o}),!r&&c&16&&(r=!0,l.open=o[4],j(()=>r=!1)),t.$set(l)},i(o){i||(m(e.$$.fragment,o),m(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){o&&h(n),L(e,o),L(t,o)}}}function dr(a,e,n){let t,{id:r}=e,{clientId:i}=e,{name:s}=e,{token:_}=e,{recurringStatus:o}=e,{updateTabList:c=(A=!1)=>{}}=e,u=!1,l=!1,f,g,d=!1;const C=({label:A,status:X})=>{if(X==F.EDIT){window.location.href=`#/recurring/edit/${_}`;return}n(5,f=A.toLowerCase()),n(6,g=X),n(4,l=!0)},N=()=>{n(3,u=!0);const A={id:r,recurringStatus:g};Ce.promise(Ee("recurring/update",A),{loading:"Updating...",success:()=>(n(3,u=!1),n(4,l=!1),c(),"Recurring status updated successfully"),error:X=>(n(3,u=!1),n(4,l=!1),Le(X,"Failed to update status"))})},R=()=>{n(3,u=!0),Ce.promise(Ee("recurring/create-invoice",{id:r,email:d}),{loading:"Creating invoice...",success:()=>(n(7,d=!1),n(3,u=!1),n(4,l=!1),vn(hn.UNPAID.LOWER_CASE,null),c(!0),"Invoice created successfully"),error:A=>(n(7,d=!1),n(3,u=!1),n(4,l=!1),Le(A,"Failed to create invoice"))})},K=()=>location.href=`#/recurring/${i}/${_}`,Z=A=>C(A);function I(A){d=A,n(7,d)}function O(A){l=A,n(4,l)}return a.$$set=A=>{"id"in A&&n(12,r=A.id),"clientId"in A&&n(0,i=A.clientId),"name"in A&&n(1,s=A.name),"token"in A&&n(2,_=A.token),"recurringStatus"in A&&n(13,o=A.recurringStatus),"updateTabList"in A&&n(14,c=A.updateTabList)},a.$$.update=()=>{a.$$.dirty&8192&&n(8,t=bn(o))},[i,s,_,u,l,f,g,d,t,C,N,R,r,o,c,K,Z,I,O]}class Ye extends Q{constructor(e){super(),z(this,e,dr,pr,H,{id:12,clientId:0,name:1,token:2,recurringStatus:13,updateTabList:14})}}function mr(a){let e;return{c(){e=S("div"),e.textContent="Upcoming Invoice"},m(n,t){b(n,e,t)},p:v,i:v,o:v,d(n){n&&h(e)}}}class xe extends Q{constructor(e){super(),z(this,e,null,mr,H,{})}}function gr(a){let e,n=(a[0]?a[1]:"-")+"",t;return{c(){e=S("div"),t=E(n),D(e,"class","text-xs")},m(r,i){b(r,e,i),M(e,t)},p(r,[i]){i&3&&n!==(n=(r[0]?r[1]:"-")+"")&&q(t,n)},i:v,o:v,d(r){r&&h(e)}}}function $r(a,e,n){let t,{date:r}=e;return a.$$set=i=>{"date"in i&&n(0,r=i.date)},a.$$.update=()=>{a.$$.dirty&1&&n(1,t=An(r).format(invoize.date_format))},[r,t]}class et extends Q{constructor(e){super(),z(this,e,$r,gr,H,{date:0})}}function br(a){let e;return{c(){e=S("div"),e.textContent="#"},m(n,t){b(n,e,t)},p:v,i:v,o:v,d(n){n&&h(e)}}}class tt extends Q{constructor(e){super(),z(this,e,null,br,H,{})}}function hr(a){let e,n;return{c(){e=S("div"),n=E(a[0]),D(e,"class","text-xs")},m(t,r){b(t,e,r),M(e,n)},p(t,[r]){r&1&&q(n,t[0])},i:v,o:v,d(t){t&&h(e)}}}function vr(a,e,n){let{id:t}=e;return a.$$set=r=>{"id"in r&&n(0,t=r.id)},[t]}class he extends Q{constructor(e){super(),z(this,e,vr,hr,H,{id:0})}}function kr(a){let e;return{c(){e=S("div"),e.textContent="Name"},m(n,t){b(n,e,t)},p:v,i:v,o:v,d(n){n&&h(e)}}}class nt extends Q{constructor(e){super(),z(this,e,null,kr,H,{})}}function wr(a){let e,n;return{c(){e=S("div"),n=E(a[1]),D(e,"class","flex text-wrap text-start text-sm")},m(t,r){b(t,e,r),M(e,n)},p(t,r){r&2&&q(n,t[1])},d(t){t&&h(e)}}}function Lr(a){let e,n;return e=new te({props:{variant:"link",class:"p-0 text-xs flex justify-start w-full",$$slots:{default:[wr]},$$scope:{ctx:a}}}),e.$on("click",a[3]),{c(){k(e.$$.fragment)},m(t,r){w(e,t,r),n=!0},p(t,[r]){const i={};r&18&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Tr(a,e,n){let{id:t}=e,{name:r}=e,{token:i}=e;const s=()=>location.href=`#/recurring/${t}/${i}`;return a.$$set=_=>{"id"in _&&n(0,t=_.id),"name"in _&&n(1,r=_.name),"token"in _&&n(2,i=_.token)},[t,r,i,s]}class rt extends Q{constructor(e){super(),z(this,e,Tr,Lr,H,{id:0,name:1,token:2})}}function Ir(a){let e;return{c(){e=S("div"),e.textContent="Payment Method"},m(n,t){b(n,e,t)},p:v,i:v,o:v,d(n){n&&h(e)}}}class at extends Q{constructor(e){super(),z(this,e,null,Ir,H,{})}}function Cr(a){let e;return{c(){e=S("div"),e.textContent="-",D(e,"class","text-xs")},m(n,t){b(n,e,t)},p:v,d(n){n&&h(e)}}}function Er(a){let e;return{c(){e=S("div"),e.textContent="Multi Payment",D(e,"class","text-xs")},m(n,t){b(n,e,t)},p:v,d(n){n&&h(e)}}}function Ar(a){let e,n=be(a[0][0])+"",t;return{c(){e=S("div"),t=E(n),D(e,"class","text-xs")},m(r,i){b(r,e,i),M(e,t)},p(r,i){i&1&&n!==(n=be(r[0][0])+"")&&q(t,n)},d(r){r&&h(e)}}}function Sr(a){let e;function n(i,s){var _,o;return((_=i[0])==null?void 0:_.length)===1?Ar:((o=i[0])==null?void 0:o.length)>1?Er:Cr}let t=n(a),r=t(a);return{c(){r.c(),e=J()},m(i,s){r.m(i,s),b(i,e,s)},p(i,[s]){t===(t=n(i))&&r?r.p(i,s):(r.d(1),r=t(i),r&&(r.c(),r.m(e.parentNode,e)))},i:v,o:v,d(i){i&&h(e),r.d(i)}}}function Rr(a,e,n){let t,{payments:r}=e;return a.$$set=i=>{"payments"in i&&n(1,r=i.payments)},a.$$.update=()=>{a.$$.dirty&2&&n(0,t=r==null?void 0:r.map(i=>i.method))},[t,r]}class it extends Q{constructor(e){super(),z(this,e,Rr,Sr,H,{payments:1})}}function Dr(a){let e;return{c(){e=S("div"),e.textContent="Schedule"},m(n,t){b(n,e,t)},p:v,i:v,o:v,d(n){n&&h(e)}}}class st extends Q{constructor(e){super(),z(this,e,null,Dr,H,{})}}function Nr(a){let e,n=be(a[0])+"",t;return{c(){e=S("div"),t=E(n),D(e,"class","text-xs")},m(r,i){b(r,e,i),M(e,t)},p(r,[i]){i&1&&n!==(n=be(r[0])+"")&&q(t,n)},i:v,o:v,d(r){r&&h(e)}}}function Or(a,e,n){let{interval:t}=e;return a.$$set=r=>{"interval"in r&&n(0,t=r.interval)},[t]}class lt extends Q{constructor(e){super(),z(this,e,Or,Nr,H,{interval:0})}}function Pr(a){let e;return{c(){e=S("div"),e.textContent="Amount"},m(n,t){b(n,e,t)},p:v,i:v,o:v,d(n){n&&h(e)}}}class ot extends Q{constructor(e){super(),z(this,e,null,Pr,H,{})}}function Vr(a){var r;let e,n=He((r=a[1])==null?void 0:r.name,a[0])+"",t;return{c(){e=S("div"),t=E(n),D(e,"class","text-xs")},m(i,s){b(i,e,s),M(e,t)},p(i,[s]){var _;s&3&&n!==(n=He((_=i[1])==null?void 0:_.name,i[0])+"")&&q(t,n)},i:v,o:v,d(i){i&&h(e)}}}function Wr(a,e,n){let{total:t}=e,{currency:r}=e;return a.$$set=i=>{"total"in i&&n(0,t=i.total),"currency"in i&&n(1,r=i.currency)},[t,r]}class ct extends Q{constructor(e){super(),z(this,e,Wr,Vr,H,{total:0,currency:1})}}function jr(a){let e;return{c(){e=S("div"),e.textContent="Last Invoice"},m(n,t){b(n,e,t)},p:v,i:v,o:v,d(n){n&&h(e)}}}class ut extends Q{constructor(e){super(),z(this,e,null,jr,H,{})}}function Br(a){let e;return{c(){e=E("-")},m(n,t){b(n,e,t)},p:v,i:v,o:v,d(n){n&&h(e)}}}function Qr(a){let e,n;return e=new te({props:{class:"p-0 text-xs flex justify-start",variant:"link",$$slots:{default:[zr]},$$scope:{ctx:a}}}),e.$on("click",a[1]),{c(){k(e.$$.fragment)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&5&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function zr(a){let e,n=a[0].name+"",t;return{c(){e=S("div"),t=E(n),D(e,"class","flex text-wrap text-start")},m(r,i){b(r,e,i),M(e,t)},p(r,i){i&1&&n!==(n=r[0].name+"")&&q(t,n)},d(r){r&&h(e)}}}function Hr(a){let e,n,t,r;const i=[Qr,Br],s=[];function _(o,c){return o[0]?0:1}return e=_(a),n=s[e]=i[e](a),{c(){n.c(),t=J()},m(o,c){s[e].m(o,c),b(o,t,c),r=!0},p(o,[c]){let u=e;e=_(o),e===u?s[e].p(o,c):(y(),$(s[u],1,1,()=>{s[u]=null}),G(),n=s[e],n?n.p(o,c):(n=s[e]=i[e](o),n.c()),m(n,1),n.m(t.parentNode,t))},i(o){r||(m(n),r=!0)},o(o){$(n),r=!1},d(o){o&&h(t),s[e].d(o)}}}function Mr(a,e,n){let{lastInvoice:t}=e;const r=()=>location.href=`#/invoice/${t.token}`;return a.$$set=i=>{"lastInvoice"in i&&n(0,t=i.lastInvoice)},[t,r]}class ft extends Q{constructor(e){super(),z(this,e,Mr,Hr,H,{lastInvoice:0})}}const _t=(a,e,n,t)=>{const r=Ge(e),i=r.createColumns([r.column({header:()=>T(tt),accessor:"id",cell:u=>{if(ie(Xe))return T(he,{id:u.value});{const l=ie(a),f=ie(e).findIndex(d=>d.id===u.value),g=(l.page-1)*l.perPage+f+1;return T(he,{id:g})}}}),r.column({header:()=>T(nt),accessor:"name",cell:u=>{const l=u.row.original.token;return T(rt,{name:u.value,token:l,id:t.clientId})}}),r.column({header:()=>T(at),accessor:"payment",cell:u=>T(it,{payments:u.value})}),r.column({header:()=>T(ut),accessor:"lastInvoice",cell:u=>T(ft,{lastInvoice:u.value})}),r.column({header:()=>T(st),accessor:"interval",cell:u=>T(lt,{interval:u.value})}),r.column({header:()=>T(xe),accessor:"nextInvoice",cell:u=>T(et,{date:u.value})}),r.column({header:()=>T(ot),accessor:"total",cell:u=>{const l=u.row.original.currency;return T(ct,{total:u.value,currency:l})}}),r.column({header:()=>T(Ke),accessor:"token",cell:u=>{const l=u.row.original.recurringStatus,f=u.row.original.name,g=u.row.original.id,d=u.row.original.clientId;return T(Ye,{id:g,clientId:d,name:f,recurringStatus:l,token:u.value,updateTabList:n})}})]),{headerRows:s,rows:_,tableAttrs:o,tableBodyAttrs:c}=r.createViewModel(i);return{headerRows:s,rows:_,tableAttrs:o,tableBodyAttrs:c}};function Ur(a){let e;return{c(){e=S("div"),e.textContent="Status",D(e,"class","text-center")},m(n,t){b(n,e,t)},p:v,i:v,o:v,d(n){n&&h(e)}}}class Fr extends Q{constructor(e){super(),z(this,e,null,Ur,H,{})}}function qr(a){let e,n,t=a[0].toUpperCase()+"",r,i;return{c(){e=S("div"),n=S("div"),r=E(t),D(n,"class",i=qe+" "+(a[0]==="active"?"bg-teal-100":"bg-red-200")+" rounded-md text-center text-black"),D(e,"class","flex flex-col items-center text-xs")},m(s,_){b(s,e,_),M(e,n),M(n,r)},p(s,[_]){_&1&&t!==(t=s[0].toUpperCase()+"")&&q(r,t),_&1&&i!==(i=qe+" "+(s[0]==="active"?"bg-teal-100":"bg-red-200")+" rounded-md text-center text-black")&&D(n,"class",i)},i:v,o:v,d(s){s&&h(e)}}}const qe="flex justify-center items-center text-[10px] w-24 rounded-md text-[13px] px-4 my-0.5";function yr(a,e,n){let{status:t}=e;return a.$$set=r=>{"status"in r&&n(0,t=r.status)},[t]}class Gr extends Q{constructor(e){super(),z(this,e,yr,qr,H,{status:0})}}const Xr=(a,e,n,t)=>{const r=Ge(e),i=r.createColumns([r.column({header:()=>T(tt),accessor:"id",cell:u=>{if(ie(Xe))return T(he,{id:u.value});{const l=ie(a),f=ie(e).findIndex(d=>d.id===u.value),g=(l.page-1)*l.perPage+f+1;return T(he,{id:g})}}}),r.column({header:()=>T(nt),accessor:"name",cell:u=>{const l=u.row.original.token;return T(rt,{name:u.value,token:l,id:t.clientId})}}),r.column({header:()=>T(at),accessor:"payment",cell:u=>T(it,{payments:u.value})}),r.column({header:()=>T(st),accessor:"interval",cell:u=>{const l=u.row.original.detail;return T(lt,{interval:u.value,detail:l})}}),r.column({header:()=>T(ut),accessor:"lastInvoice",cell:u=>T(ft,{lastInvoice:u.value})}),r.column({header:()=>T(xe),accessor:"nextInvoice",cell:u=>T(et,{date:u.value})}),r.column({header:()=>T(ot),accessor:"total",cell:u=>{const l=u.row.original.currency;return T(ct,{total:u.value,currency:l})}}),r.column({header:()=>T(Fr),accessor:"recurringStatus",cell:u=>T(Gr,{status:u.value})}),r.column({header:()=>T(Ke),accessor:"token",cell:u=>{const l=u.row.original.recurringStatus,f=u.row.original.name,g=u.row.original.id,d=u.row.original.clientId;return T(Ye,{id:g,clientId:d,name:f,recurringStatus:l,token:u.value,updateTabList:n})}})]),{headerRows:s,rows:_,tableAttrs:o,tableBodyAttrs:c}=r.createViewModel(i);return{headerRows:s,rows:_,tableAttrs:o,tableBodyAttrs:c}};function Zr(a){var t;let e=x((t=a[16])==null?void 0:t.totalItems)+"",n;return{c(){n=E(e)},m(r,i){b(r,n,i)},p(r,i){var s;i[0]&65536&&e!==(e=x((s=r[16])==null?void 0:s.totalItems)+"")&&q(n,e)},i:v,o:v,d(r){r&&h(n)}}}function Jr(a){let e,n;return e=new ne({props:{class:"h-4 w-4 mx-auto animate-spin"}}),{c(){k(e.$$.fragment)},m(t,r){w(e,t,r),n=!0},p:v,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Kr(a){let e,n,t,r,i;const s=[Jr,Zr],_=[];function o(c,u){return c[3]?0:1}return t=o(a),r=_[t]=s[t](a),{c(){e=E(`Active
        
        `),n=S("div"),r.c(),D(n,"class","rounded-full bg-green-600 text-background text-center min-w-8 w-fit px-0.5 ml-3")},m(c,u){b(c,e,u),b(c,n,u),_[t].m(n,null),i=!0},p(c,u){let l=t;t=o(c),t===l?_[t].p(c,u):(y(),$(_[l],1,1,()=>{_[l]=null}),G(),r=_[t],r?r.p(c,u):(r=_[t]=s[t](c),r.c()),m(r,1),r.m(n,null))},i(c){i||(m(r),i=!0)},o(c){$(r),i=!1},d(c){c&&(h(e),h(n)),_[t].d()}}}function Yr(a){var t;let e=x((t=a[17])==null?void 0:t.totalItems)+"",n;return{c(){n=E(e)},m(r,i){b(r,n,i)},p(r,i){var s;i[0]&131072&&e!==(e=x((s=r[17])==null?void 0:s.totalItems)+"")&&q(n,e)},i:v,o:v,d(r){r&&h(n)}}}function xr(a){let e,n;return e=new ne({props:{class:"h-4 w-4 mx-auto animate-spin"}}),{c(){k(e.$$.fragment)},m(t,r){w(e,t,r),n=!0},p:v,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function ea(a){let e,n,t,r,i;const s=[xr,Yr],_=[];function o(c,u){return c[4]?0:1}return t=o(a),r=_[t]=s[t](a),{c(){e=E(`Inactive
        
        `),n=S("div"),r.c(),D(n,"class","rounded-full bg-accent text-slate-400 min-w-8 w-fit px-0.5 ml-3")},m(c,u){b(c,e,u),b(c,n,u),_[t].m(n,null),i=!0},p(c,u){let l=t;t=o(c),t===l?_[t].p(c,u):(y(),$(_[l],1,1,()=>{_[l]=null}),G(),r=_[t],r?r.p(c,u):(r=_[t]=s[t](c),r.c()),m(r,1),r.m(n,null))},i(c){i||(m(r),i=!0)},o(c){$(r),i=!1},d(c){c&&(h(e),h(n)),_[t].d()}}}function ta(a){var t;let e=x((t=a[18])==null?void 0:t.totalItems)+"",n;return{c(){n=E(e)},m(r,i){b(r,n,i)},p(r,i){var s;i[0]&262144&&e!==(e=x((s=r[18])==null?void 0:s.totalItems)+"")&&q(n,e)},i:v,o:v,d(r){r&&h(n)}}}function na(a){let e,n;return e=new ne({props:{class:"h-4 w-4 mx-auto animate-spin"}}),{c(){k(e.$$.fragment)},m(t,r){w(e,t,r),n=!0},p:v,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function ra(a){let e,n,t,r,i;const s=[na,ta],_=[];function o(c,u){return c[5]?0:1}return t=o(a),r=_[t]=s[t](a),{c(){e=E(`Created Invoice
        
        `),n=S("div"),r.c(),D(n,"class","rounded-full bg-accent text-slate-400 min-w-8 w-fit px-0.5 ml-3")},m(c,u){b(c,e,u),b(c,n,u),_[t].m(n,null),i=!0},p(c,u){let l=t;t=o(c),t===l?_[t].p(c,u):(y(),$(_[l],1,1,()=>{_[l]=null}),G(),r=_[t],r?r.p(c,u):(r=_[t]=s[t](c),r.c()),m(r,1),r.m(n,null))},i(c){i||(m(r),i=!0)},o(c){$(r),i=!1},d(c){c&&(h(e),h(n)),_[t].d()}}}function ye(a){let e,n;return e=new ge({props:{value:B.SEARCH.LOWER_CASE,class:$e+" "+rn,$$slots:{default:[sa]},$$scope:{ctx:a}}}),e.$on("click",a[35]),{c(){k(e.$$.fragment)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r[0]&8224|r[2]&2&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function aa(a){var t;let e=x((t=a[13])==null?void 0:t.totalItems)+"",n;return{c(){n=E(e)},m(r,i){b(r,n,i)},p(r,i){var s;i[0]&8192&&e!==(e=x((s=r[13])==null?void 0:s.totalItems)+"")&&q(n,e)},i:v,o:v,d(r){r&&h(n)}}}function ia(a){let e,n;return e=new ne({props:{class:"h-4 w-4 mx-auto animate-spin"}}),{c(){k(e.$$.fragment)},m(t,r){w(e,t,r),n=!0},p:v,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function sa(a){let e,n,t,r,i;const s=[ia,aa],_=[];function o(c,u){return c[5]?0:1}return t=o(a),r=_[t]=s[t](a),{c(){e=E(`Search
          
          `),n=S("div"),r.c(),D(n,"class","rounded-full bg-accent text-slate-400 min-w-8 w-fit px-0.5 ml-3")},m(c,u){b(c,e,u),b(c,n,u),_[t].m(n,null),i=!0},p(c,u){let l=t;t=o(c),t===l?_[t].p(c,u):(y(),$(_[l],1,1,()=>{_[l]=null}),G(),r=_[t],r?r.p(c,u):(r=_[t]=s[t](c),r.c()),m(r,1),r.m(n,null))},i(c){i||(m(r),i=!0)},o(c){$(r),i=!1},d(c){c&&(h(e),h(n)),_[t].d()}}}function la(a){let e,n,t,r;return e=new Je({props:{class:"mr-1 h-4 w-4"}}),{c(){k(e.$$.fragment),n=V(),t=S("span"),t.textContent="Create Recurring"},m(i,s){w(e,i,s),b(i,n,s),b(i,t,s),r=!0},p:v,i(i){r||(m(e.$$.fragment,i),r=!0)},o(i){$(e.$$.fragment,i),r=!1},d(i){i&&(h(n),h(t)),L(e,i)}}}function oa(a){let e,n,t,r,i,s,_,o,c,u,l,f,g,d,C,N;n=new ge({props:{value:B.ACTIVE.LOWER_CASE,class:$e+" "+en,$$slots:{default:[Kr]},$$scope:{ctx:a}}}),n.$on("click",a[32]),r=new ge({props:{value:B.INACTIVE.LOWER_CASE,class:$e+" "+tn,$$slots:{default:[ea]},$$scope:{ctx:a}}}),r.$on("click",a[33]),s=new ge({props:{value:B.INVOICE.LOWER_CASE,class:$e+" "+nn,$$slots:{default:[ra]},$$scope:{ctx:a}}}),s.$on("click",a[34]);let R=a[12]&&ye(a);function K(I){a[36](I)}let Z={isSearching:a[2],handleSearch:a[31],placeholder:"Search recurring invoice by name"};return a[15]!==void 0&&(Z.searchQuery=a[15]),l=new Nn({props:Z}),P.push(()=>W(l,"searchQuery",K)),C=new te({props:{variant:"default",class:"sm:w-fit w-full",$$slots:{default:[la]},$$scope:{ctx:a}}}),C.$on("click",a[37]),{c(){e=S("div"),k(n.$$.fragment),t=V(),k(r.$$.fragment),i=V(),k(s.$$.fragment),_=V(),R&&R.c(),c=V(),u=S("div"),k(l.$$.fragment),g=V(),d=S("div"),k(C.$$.fragment),D(e,"class",o="lg:flex hidden justify-around "+(a[12]?"w-[600px]":"w-[500px]")+" flex-nowrap gap-2"),D(d,"class","flex flex-row flex-nowrap justify-between gap-x-6 sm:w-fit w-full"),D(u,"class","flex gap-4")},m(I,O){b(I,e,O),w(n,e,null),M(e,t),w(r,e,null),M(e,i),w(s,e,null),M(e,_),R&&R.m(e,null),b(I,c,O),b(I,u,O),w(l,u,null),M(u,g),M(u,d),w(C,d,null),N=!0},p(I,O){const A={};O[0]&65544|O[2]&2&&(A.$$scope={dirty:O,ctx:I}),n.$set(A);const X={};O[0]&131088|O[2]&2&&(X.$$scope={dirty:O,ctx:I}),r.$set(X);const re={};O[0]&262176|O[2]&2&&(re.$$scope={dirty:O,ctx:I}),s.$set(re),I[12]?R?(R.p(I,O),O[0]&4096&&m(R,1)):(R=ye(I),R.c(),m(R,1),R.m(e,null)):R&&(y(),$(R,1,1,()=>{R=null}),G()),(!N||O[0]&4096&&o!==(o="lg:flex hidden justify-around "+(I[12]?"w-[600px]":"w-[500px]")+" flex-nowrap gap-2"))&&D(e,"class",o);const ee={};O[0]&4&&(ee.isSearching=I[2]),!f&&O[0]&32768&&(f=!0,ee.searchQuery=I[15],j(()=>f=!1)),l.$set(ee);const ae={};O[2]&2&&(ae.$$scope={dirty:O,ctx:I}),C.$set(ae)},i(I){N||(m(n.$$.fragment,I),m(r.$$.fragment,I),m(s.$$.fragment,I),m(R),m(l.$$.fragment,I),m(C.$$.fragment,I),N=!0)},o(I){$(n.$$.fragment,I),$(r.$$.fragment,I),$(s.$$.fragment,I),$(R),$(l.$$.fragment,I),$(C.$$.fragment,I),N=!1},d(I){I&&(h(e),h(c),h(u)),L(n),L(r),L(s),R&&R.d(),L(l),L(C)}}}function ca(a){let e,n,t,r,i,s;function _(f){a[39](f)}function o(f){a[40](f)}function c(f){a[41](f)}function u(f){a[42](f)}let l={name:"recurring",tab:B.ACTIVE.LOWER_CASE,pageToLoad:a[19].active,listApi:`recurring/recurring-list?id=${a[0].clientId}&recurringStatus=active`,alwaysReload:Ie,setTableColumns:_t,params:a[0],updateTabList:a[28]};return a[20]!==void 0&&(l.dataList=a[20]),a[21]!==void 0&&(l.hasData=a[21]),a[16]!==void 0&&(l.pagination=a[16]),a[3]!==void 0&&(l.isLoading=a[3]),e=new ve({props:l}),a[38](e),P.push(()=>W(e,"dataList",_)),P.push(()=>W(e,"hasData",o)),P.push(()=>W(e,"pagination",c)),P.push(()=>W(e,"isLoading",u)),{c(){k(e.$$.fragment)},m(f,g){w(e,f,g),s=!0},p(f,g){const d={};g[0]&524288&&(d.pageToLoad=f[19].active),g[0]&1&&(d.listApi=`recurring/recurring-list?id=${f[0].clientId}&recurringStatus=active`),g[0]&1&&(d.params=f[0]),!n&&g[0]&1048576&&(n=!0,d.dataList=f[20],j(()=>n=!1)),!t&&g[0]&2097152&&(t=!0,d.hasData=f[21],j(()=>t=!1)),!r&&g[0]&65536&&(r=!0,d.pagination=f[16],j(()=>r=!1)),!i&&g[0]&8&&(i=!0,d.isLoading=f[3],j(()=>i=!1)),e.$set(d)},i(f){s||(m(e.$$.fragment,f),s=!0)},o(f){$(e.$$.fragment,f),s=!1},d(f){a[38](null),L(e,f)}}}function ua(a){let e,n,t,r,i,s;function _(f){a[44](f)}function o(f){a[45](f)}function c(f){a[46](f)}function u(f){a[47](f)}let l={name:"recurring",tab:B.INACTIVE.LOWER_CASE,pageToLoad:a[19].inactive,listApi:`recurring/recurring-list?id=${a[0].clientId}&recurringStatus=inactive`,alwaysReload:Ie,setTableColumns:_t,params:a[0],updateTabList:a[28]};return a[22]!==void 0&&(l.dataList=a[22]),a[23]!==void 0&&(l.hasData=a[23]),a[17]!==void 0&&(l.pagination=a[17]),a[4]!==void 0&&(l.isLoading=a[4]),e=new ve({props:l}),a[43](e),P.push(()=>W(e,"dataList",_)),P.push(()=>W(e,"hasData",o)),P.push(()=>W(e,"pagination",c)),P.push(()=>W(e,"isLoading",u)),{c(){k(e.$$.fragment)},m(f,g){w(e,f,g),s=!0},p(f,g){const d={};g[0]&524288&&(d.pageToLoad=f[19].inactive),g[0]&1&&(d.listApi=`recurring/recurring-list?id=${f[0].clientId}&recurringStatus=inactive`),g[0]&1&&(d.params=f[0]),!n&&g[0]&4194304&&(n=!0,d.dataList=f[22],j(()=>n=!1)),!t&&g[0]&8388608&&(t=!0,d.hasData=f[23],j(()=>t=!1)),!r&&g[0]&131072&&(r=!0,d.pagination=f[17],j(()=>r=!1)),!i&&g[0]&16&&(i=!0,d.isLoading=f[4],j(()=>i=!1)),e.$set(d)},i(f){s||(m(e.$$.fragment,f),s=!0)},o(f){$(e.$$.fragment,f),s=!1},d(f){a[43](null),L(e,f)}}}function fa(a){let e,n,t,r,i,s,_;function o(d){a[49](d)}function c(d){a[50](d)}function u(d){a[51](d)}function l(d){a[52](d)}function f(d){a[53](d)}let g={name:"recurring",tab:B.INVOICE.LOWER_CASE,pageToLoad:a[19].invoice,listApi:`invoice/list?tab=all&recurring=true&clientId=${a[0].clientId}`,setTableColumns:Sn,alwaysReload:Ie,params:a[0],updateTabList:a[28]};return a[24]!==void 0&&(g.dataList=a[24]),a[25]!==void 0&&(g.hasData=a[25]),a[18]!==void 0&&(g.pagination=a[18]),a[5]!==void 0&&(g.isLoading=a[5]),a[26]!==void 0&&(g.isCreatingNew=a[26]),e=new ve({props:g}),a[48](e),P.push(()=>W(e,"dataList",o)),P.push(()=>W(e,"hasData",c)),P.push(()=>W(e,"pagination",u)),P.push(()=>W(e,"isLoading",l)),P.push(()=>W(e,"isCreatingNew",f)),{c(){k(e.$$.fragment)},m(d,C){w(e,d,C),_=!0},p(d,C){const N={};C[0]&524288&&(N.pageToLoad=d[19].invoice),C[0]&1&&(N.listApi=`invoice/list?tab=all&recurring=true&clientId=${d[0].clientId}`),C[0]&1&&(N.params=d[0]),!n&&C[0]&16777216&&(n=!0,N.dataList=d[24],j(()=>n=!1)),!t&&C[0]&33554432&&(t=!0,N.hasData=d[25],j(()=>t=!1)),!r&&C[0]&262144&&(r=!0,N.pagination=d[18],j(()=>r=!1)),!i&&C[0]&32&&(i=!0,N.isLoading=d[5],j(()=>i=!1)),!s&&C[0]&67108864&&(s=!0,N.isCreatingNew=d[26],j(()=>s=!1)),e.$set(N)},i(d){_||(m(e.$$.fragment,d),_=!0)},o(d){$(e.$$.fragment,d),_=!1},d(d){a[48](null),L(e,d)}}}function _a(a){let e,n,t,r,i,s;function _(f){a[55](f)}function o(f){a[56](f)}function c(f){a[57](f)}function u(f){a[58](f)}let l={name:"recurring",tab:B.SEARCH.LOWER_CASE,pageToLoad:a[19].search,isSearch:!0,listApi:"recurring/recurring-list?id="+a[0].clientId+"&search="+a[15],setTableColumns:Xr,params:a[0],updateTabList:a[28]};return a[14]!==void 0&&(l.dataList=a[14]),a[12]!==void 0&&(l.hasData=a[12]),a[13]!==void 0&&(l.pagination=a[13]),a[6]!==void 0&&(l.isLoading=a[6]),e=new ve({props:l}),a[54](e),P.push(()=>W(e,"dataList",_)),P.push(()=>W(e,"hasData",o)),P.push(()=>W(e,"pagination",c)),P.push(()=>W(e,"isLoading",u)),{c(){k(e.$$.fragment)},m(f,g){w(e,f,g),s=!0},p(f,g){const d={};g[0]&524288&&(d.pageToLoad=f[19].search),g[0]&32769&&(d.listApi="recurring/recurring-list?id="+f[0].clientId+"&search="+f[15]),g[0]&1&&(d.params=f[0]),!n&&g[0]&16384&&(n=!0,d.dataList=f[14],j(()=>n=!1)),!t&&g[0]&4096&&(t=!0,d.hasData=f[12],j(()=>t=!1)),!r&&g[0]&8192&&(r=!0,d.pagination=f[13],j(()=>r=!1)),!i&&g[0]&64&&(i=!0,d.isLoading=f[6],j(()=>i=!1)),e.$set(d)},i(f){s||(m(e.$$.fragment,f),s=!0)},o(f){$(e.$$.fragment,f),s=!1},d(f){a[54](null),L(e,f)}}}function pa(a){let e,n,t,r,i,s,_,o,c,u;return e=new xt({props:{class:"bg-background w-full h-fit flex sm:flex-row flex-col-reverse justify-between sm:items-center items-end px-2 gap-x-2 gap-y-4 rounded-md",$$slots:{default:[oa]},$$scope:{ctx:a}}}),t=new pe({props:{value:B.ACTIVE.LOWER_CASE,$$slots:{default:[ca]},$$scope:{ctx:a}}}),i=new pe({props:{value:B.INACTIVE.LOWER_CASE,$$slots:{default:[ua]},$$scope:{ctx:a}}}),_=new pe({props:{value:B.INVOICE.LOWER_CASE,$$slots:{default:[fa]},$$scope:{ctx:a}}}),c=new pe({props:{value:B.SEARCH.LOWER_CASE,$$slots:{default:[_a]},$$scope:{ctx:a}}}),{c(){k(e.$$.fragment),n=V(),k(t.$$.fragment),r=V(),k(i.$$.fragment),s=V(),k(_.$$.fragment),o=V(),k(c.$$.fragment)},m(l,f){w(e,l,f),b(l,n,f),w(t,l,f),b(l,r,f),w(i,l,f),b(l,s,f),w(_,l,f),b(l,o,f),w(c,l,f),u=!0},p(l,f){const g={};f[0]&503869|f[2]&2&&(g.$$scope={dirty:f,ctx:l}),e.$set(g);const d={};f[0]&3735689|f[2]&2&&(d.$$scope={dirty:f,ctx:l}),t.$set(d);const C={};f[0]&13238545|f[2]&2&&(C.$$scope={dirty:f,ctx:l}),i.$set(C);const N={};f[0]&118227489|f[2]&2&&(N.$$scope={dirty:f,ctx:l}),_.$set(N);const R={};f[0]&586817|f[2]&2&&(R.$$scope={dirty:f,ctx:l}),c.$set(R)},i(l){u||(m(e.$$.fragment,l),m(t.$$.fragment,l),m(i.$$.fragment,l),m(_.$$.fragment,l),m(c.$$.fragment,l),u=!0)},o(l){$(e.$$.fragment,l),$(t.$$.fragment,l),$(i.$$.fragment,l),$(_.$$.fragment,l),$(c.$$.fragment,l),u=!1},d(l){l&&(h(n),h(r),h(s),h(o)),L(e,l),L(t,l),L(i,l),L(_,l),L(c,l)}}}function da(a){var u;let e,n,t,r,i,s,_;e=new Rn({props:{to:a[27]}}),t=new Dn({props:{title:"Recurring Invoice",description:`Customer: ${((u=a[1])==null?void 0:u.name)??"-"}`,hasDivider:!1}});function o(l){a[59](l)}let c={onValueChange:a[29],$$slots:{default:[pa]},$$scope:{ctx:a}};return a[11]!==void 0&&(c.value=a[11]),i=new Yt({props:c}),P.push(()=>W(i,"value",o)),{c(){k(e.$$.fragment),n=V(),k(t.$$.fragment),r=V(),k(i.$$.fragment)},m(l,f){w(e,l,f),b(l,n,f),w(t,l,f),b(l,r,f),w(i,l,f),_=!0},p(l,f){var C;const g={};f[0]&2&&(g.description=`Customer: ${((C=l[1])==null?void 0:C.name)??"-"}`),t.$set(g);const d={};f[0]&134215677|f[2]&2&&(d.$$scope={dirty:f,ctx:l}),!s&&f[0]&2048&&(s=!0,d.value=l[11],j(()=>s=!1)),i.$set(d)},i(l){_||(m(e.$$.fragment,l),m(t.$$.fragment,l),m(i.$$.fragment,l),_=!0)},o(l){$(e.$$.fragment,l),$(t.$$.fragment,l),$(i.$$.fragment,l),_=!1},d(l){l&&(h(n),h(r)),L(e,l),L(t,l),L(i,l)}}}let Ie=!0;function ma(a,e,n){let t,r,i,s,_,o,c,u,l,f,g,d,C,N,R,K;U(a,_e,p=>n(11,t=p)),U(a,de,p=>n(12,r=p)),U(a,we,p=>n(13,i=p)),U(a,me,p=>n(14,s=p)),U(a,Re,p=>n(15,_=p)),U(a,De,p=>n(16,o=p)),U(a,Ne,p=>n(17,c=p)),U(a,Oe,p=>n(18,u=p)),U(a,an,p=>n(19,l=p)),U(a,Pe,p=>n(20,f=p)),U(a,Ve,p=>n(21,g=p)),U(a,We,p=>n(22,d=p)),U(a,je,p=>n(23,C=p)),U(a,Be,p=>n(24,N=p)),U(a,Qe,p=>n(25,R=p)),U(a,ze,p=>n(26,K=p));let{params:Z={}}=e;const I=[{name:"Recurring",link:"recurrings"},{name:"List",link:""}];let O={},A=!1,X=!1,re=!1,ee=!1,ae=!1,se,le,oe,ce,ke=1;const pt=p=>{se.getListItems(),le.getListItems(),r&&ce.getListItems(),p&&oe.getListItems()},dt=p=>{p===B.ACTIVE.LOWER_CASE?se.getListItems():p===B.INACTIVE.LOWER_CASE?le.getListItems():p===B.INVOICE.LOWER_CASE?oe.getListItems():p===B.SEARCH.LOWER_CASE&&ce.getListItems()},mt=p=>{ke=0,Y(_e,t=p,t)},ue=p=>{ke++,ke>1&&dt(p)},gt=()=>{if(Y(de,r=!1,r),!_){Y(me,s=[],s),Y(_e,t=t==="search"?"active":t,t);return}n(2,A=!0),Se(`recurring/recurring-list?id=${Z.clientId}&search=${_}`).then(p=>{const{page:fe,per_page:yt,total_items:Gt,total_pages:Xt,items:Zt}=p.data;Y(me,s=Zt,s),Y(we,i={page:fe,perPage:yt,totalItems:Gt,totalPages:Xt},i),Y(de,r=!0,r),Y(_e,t="search",t),n(2,A=!1)})},$t=async p=>{try{const fe=await Se(`recurring/client-recurring-detail?id=${p}`);n(1,O=fe.data)}catch(fe){Le(fe,"Failed to get client recurring detail.")}};Kt(()=>{$t(Z.clientId)});const bt=()=>ue(B.ACTIVE.LOWER_CASE),ht=()=>ue(B.INACTIVE.LOWER_CASE),vt=()=>ue(B.INVOICE.LOWER_CASE),kt=()=>ue(B.SEARCH.LOWER_CASE);function wt(p){_=p,Re.set(_)}const Lt=()=>location.href=`#/recurring/${Z.clientId}/create`;function Tt(p){P[p?"unshift":"push"](()=>{se=p,n(7,se)})}function It(p){f=p,Pe.set(f)}function Ct(p){g=p,Ve.set(g)}function Et(p){o=p,De.set(o)}function At(p){X=p,n(3,X)}function St(p){P[p?"unshift":"push"](()=>{le=p,n(8,le)})}function Rt(p){d=p,We.set(d)}function Dt(p){C=p,je.set(C)}function Nt(p){c=p,Ne.set(c)}function Ot(p){re=p,n(4,re)}function Pt(p){P[p?"unshift":"push"](()=>{oe=p,n(9,oe)})}function Vt(p){N=p,Be.set(N)}function Wt(p){R=p,Qe.set(R)}function jt(p){u=p,Oe.set(u)}function Bt(p){ee=p,n(5,ee)}function Qt(p){K=p,ze.set(K)}function zt(p){P[p?"unshift":"push"](()=>{ce=p,n(10,ce)})}function Ht(p){s=p,me.set(s)}function Mt(p){r=p,de.set(r)}function Ut(p){i=p,we.set(i)}function Ft(p){ae=p,n(6,ae)}function qt(p){t=p,_e.set(t)}return a.$$set=p=>{"params"in p&&n(0,Z=p.params)},[Z,O,A,X,re,ee,ae,se,le,oe,ce,t,r,i,s,_,o,c,u,l,f,g,d,C,N,R,K,I,pt,mt,ue,gt,bt,ht,vt,kt,wt,Lt,Tt,It,Ct,Et,At,St,Rt,Dt,Nt,Ot,Pt,Vt,Wt,jt,Bt,Qt,zt,Ht,Mt,Ut,Ft,qt]}class mi extends Q{constructor(e){super(),z(this,e,ma,da,H,{params:0},null,[-1,-1,-1])}}export{mi as default};
