import{S as Y,i as ee,s as te,c as p,m as _,j as d,t as $,l as g,X as ne,a as L,f as w,k,q as J,Z as M,p as re,a4 as F,a5 as G,e as T,d as N,g as E,C as se,aa as le,o as K,h as Q,a6 as O,x as A,B as ae,n as ie,u as P,L as oe}from"./Toaster.svelte_svelte_type_style_lang-89e761ff.js";import{R as ue,T as fe,D as ce}from"./options-1651b5d0.js";import{S as me,a as de,b as $e,V as pe,c as _e}from"./index-210676e1.js";import{G as V,h as ge}from"./errorHelper-39e9d1d7.js";import{i as be}from"./emptyDataHelper-b583dd0c.js";import{L as ve}from"./label-e50396f8.js";import{I as U}from"./input-ab223ce3.js";import{a as we,M as ke}from"./MiniStar-8026f138.js";import{D as he}from"./dialog-header-5fe8b5ad.js";import{D as Ie}from"./dialog-footer-37c988b6.js";function Se(a){let e;return{c(){e=A("Add New Reminder")},m(n,t){w(n,e,t)},d(n){n&&k(e)}}}function Re(a){let e,n;return e=new we({props:{$$slots:{default:[Se]},$$scope:{ctx:a}}}),{c(){p(e.$$.fragment)},m(t,s){_(e,t,s),n=!0},p(t,s){const r={};s&32768&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function De(a){let e,n,t;return n=new ke({}),{c(){e=A("Interval "),p(n.$$.fragment)},m(s,r){w(s,e,r),_(n,s,r),t=!0},i(s){t||(d(n.$$.fragment,s),t=!0)},o(s){$(n.$$.fragment,s),t=!1},d(s){s&&k(e),g(n,s)}}}function Ee(a){let e,n,t;function s(l){a[10](l)}let r={id:"reminder-interval",type:"number",placeholder:"Reminder interval",min:1,required:!0};return a[4]!==void 0&&(r.value=a[4]),e=new U({props:r}),F.push(()=>G(e,"value",s)),{c(){p(e.$$.fragment)},m(l,c){_(e,l,c),t=!0},p(l,c){const i={};!n&&c&16&&(n=!0,i.value=l[4],O(()=>n=!1)),e.$set(i)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){g(e,l)}}}function Le(a){let e,n,t;function s(l){a[9](l)}let r={id:"reminder-interval",type:"number",placeholder:"Reminder interval",min:1,required:!0};return a[2]!==void 0&&(r.value=a[2]),e=new U({props:r}),F.push(()=>G(e,"value",s)),{c(){p(e.$$.fragment)},m(l,c){_(e,l,c),t=!0},p(l,c){const i={};!n&&c&4&&(n=!0,i.value=l[2],O(()=>n=!1)),e.$set(i)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){g(e,l)}}}function ye(a){let e,n;return e=new pe({props:{placeholder:"Select type"}}),{c(){p(e.$$.fragment)},m(t,s){_(e,t,s),n=!0},p:P,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function qe(a){let e;return{c(){e=A("Day(s)")},m(n,t){w(n,e,t)},d(n){n&&k(e)}}}function Ae(a){let e,n;return e=new _e({props:{value:"day",$$slots:{default:[qe]},$$scope:{ctx:a}}}),{c(){p(e.$$.fragment)},m(t,s){_(e,t,s),n=!0},p(t,s){const r={};s&32768&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function Ce(a){let e,n,t,s;return e=new de({props:{id:"type",$$slots:{default:[ye]},$$scope:{ctx:a}}}),t=new $e({props:{class:"max-h-60 overflow-y-scroll",$$slots:{default:[Ae]},$$scope:{ctx:a}}}),{c(){p(e.$$.fragment),n=L(),p(t.$$.fragment)},m(r,l){_(e,r,l),w(r,n,l),_(t,r,l),s=!0},p(r,l){const c={};l&32768&&(c.$$scope={dirty:l,ctx:r}),e.$set(c);const i={};l&32768&&(i.$$scope={dirty:l,ctx:r}),t.$set(i)},i(r){s||(d(e.$$.fragment,r),d(t.$$.fragment,r),s=!0)},o(r){$(e.$$.fragment,r),$(t.$$.fragment,r),s=!1},d(r){r&&k(n),g(e,r),g(t,r)}}}function Te(a){let e;return{c(){e=A("Save")},m(n,t){w(n,e,t)},i:P,o:P,d(n){n&&k(e)}}}function Ve(a){let e,n,t;return e=new oe({props:{class:"h-4 w-4 animate-spin"}}),{c(){p(e.$$.fragment),n=A(`
            Saving`)},m(s,r){_(e,s,r),w(s,n,r),t=!0},i(s){t||(d(e.$$.fragment,s),t=!0)},o(s){$(e.$$.fragment,s),t=!1},d(s){s&&k(n),g(e,s)}}}function je(a){let e,n,t,s;const r=[Ve,Te],l=[];function c(i,f){return i[1]?0:1}return e=c(a),n=l[e]=r[e](a),{c(){n.c(),t=ie()},m(i,f){l[e].m(i,f),w(i,t,f),s=!0},p(i,f){let m=e;e=c(i),e!==m&&(K(),$(l[m],1,1,()=>{l[m]=null}),Q(),n=l[e],n||(n=l[e]=r[e](i),n.c()),d(n,1),n.m(t.parentNode,t))},i(i){s||(d(n),s=!0)},o(i){$(n),s=!1},d(i){i&&k(t),l[e].d(i)}}}function Be(a){let e,n;return e=new ae({props:{disabled:a[1],type:"submit",$$slots:{default:[je]},$$scope:{ctx:a}}}),{c(){p(e.$$.fragment)},m(t,s){_(e,t,s),n=!0},p(t,s){const r={};s&2&&(r.disabled=t[1]),s&32770&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function Me(a){let e,n,t,s,r,l,c,i,f,m,I,v,y,C,h,D,q,u;e=new he({props:{$$slots:{default:[Re]},$$scope:{ctx:a}}}),l=new ve({props:{for:"reminder-interval",$$slots:{default:[De]},$$scope:{ctx:a}}});const S=[Le,Ee],R=[];function X(o,b){return o[3]?0:1}f=X(a),m=R[f]=S[f](a);function W(o){a[11](o)}let Z={disabled:!0,$$slots:{default:[Ce]},$$scope:{ctx:a}};return a[5]!==void 0&&(Z.selected=a[5]),v=new me({props:Z}),F.push(()=>G(v,"selected",W)),h=new Ie({props:{$$slots:{default:[Be]},$$scope:{ctx:a}}}),{c(){p(e.$$.fragment),n=L(),t=T("form"),s=T("div"),r=T("div"),p(l.$$.fragment),c=L(),i=T("div"),m.c(),I=L(),p(v.$$.fragment),C=L(),p(h.$$.fragment),N(i,"class","flex flex-row flex-nowrap items-center justify-between gap-x-2"),N(r,"class","grid grid-cols items-center gap-4"),N(s,"class","grid gap-4 py-4")},m(o,b){_(e,o,b),w(o,n,b),w(o,t,b),E(t,s),E(s,r),_(l,r,null),E(r,c),E(r,i),R[f].m(i,null),E(i,I),_(v,i,null),E(t,C),_(h,t,null),D=!0,q||(u=se(t,"submit",le(a[7])),q=!0)},p(o,b){const x={};b&32768&&(x.$$scope={dirty:b,ctx:o}),e.$set(x);const z={};b&32768&&(z.$$scope={dirty:b,ctx:o}),l.$set(z);let j=f;f=X(o),f===j?R[f].p(o,b):(K(),$(R[j],1,1,()=>{R[j]=null}),Q(),m=R[f],m?m.p(o,b):(m=R[f]=S[f](o),m.c()),d(m,1),m.m(i,I));const B={};b&32768&&(B.$$scope={dirty:b,ctx:o}),!y&&b&32&&(y=!0,B.selected=o[5],O(()=>y=!1)),v.$set(B);const H={};b&32770&&(H.$$scope={dirty:b,ctx:o}),h.$set(H)},i(o){D||(d(e.$$.fragment,o),d(l.$$.fragment,o),d(m),d(v.$$.fragment,o),d(h.$$.fragment,o),D=!0)},o(o){$(e.$$.fragment,o),$(l.$$.fragment,o),$(m),$(v.$$.fragment,o),$(h.$$.fragment,o),D=!1},d(o){o&&(k(n),k(t)),g(e,o),g(l),R[f].d(),g(v),g(h),q=!1,u()}}}function Ne(a){let e,n,t,s;return e=new fe({props:{id:"tax-modal"}}),t=new ce({props:{class:"sm:max-w-[425px] ",$$slots:{default:[Me]},$$scope:{ctx:a}}}),{c(){p(e.$$.fragment),n=L(),p(t.$$.fragment)},m(r,l){_(e,r,l),w(r,n,l),_(t,r,l),s=!0},p(r,l){const c={};l&32830&&(c.$$scope={dirty:l,ctx:r}),t.$set(c)},i(r){s||(d(e.$$.fragment,r),d(t.$$.fragment,r),s=!0)},o(r){$(e.$$.fragment,r),$(t.$$.fragment,r),s=!1},d(r){r&&k(n),g(e,r),g(t,r)}}}function Pe(a){let e,n;return e=new ue({props:{open:a[0],onOpenChange:a[12],$$slots:{default:[Ne]},$$scope:{ctx:a}}}),{c(){p(e.$$.fragment)},m(t,s){_(e,t,s),n=!0},p(t,[s]){const r={};s&1&&(r.open=t[0]),s&32830&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function Fe(a,e,n){let t;ne(a,V,u=>n(13,t=u));let{open:s=!1}=e,{isLoading:r=!1}=e,{selectedReminderIndex:l=0}=e,{isEditing:c=!1}=e,{editInterval:i=null}=e,f=null,m={value:"day",label:"Day(s)"};const I=()=>{n(4,f=null),n(2,i=null),n(8,l=null),n(1,r=!1),n(0,s=!1)},v=()=>!!t.find(S=>S.includes(f.toString())),y=async()=>{if(r)return;if(v()){J.error("Value already exist. Please input a new value.");return}n(1,r=!0);let u;if(c)M(V,t[l]=`${parseInt(i)} ${m.value}`,t),u=t;else{be(t)&&M(V,t=[],t);const S=`${parseInt(f)} ${m.value}`;u=[...t,S]}J.promise(re("settings/update?tab=invoice",{reminders:u}),{loading:"Saving...",success:()=>(M(V,t=u,t),I(),"Reminder Saved"),error:S=>(I(),ge(S,"Failed to save reminder."))})};function C(u){i=u,n(2,i)}function h(u){f=u,n(4,f)}function D(u){m=u,n(5,m)}const q=()=>I();return a.$$set=u=>{"open"in u&&n(0,s=u.open),"isLoading"in u&&n(1,r=u.isLoading),"selectedReminderIndex"in u&&n(8,l=u.selectedReminderIndex),"isEditing"in u&&n(3,c=u.isEditing),"editInterval"in u&&n(2,i=u.editInterval)},[s,r,i,c,f,m,I,y,l,C,h,D,q]}class Ue extends Y{constructor(e){super(),ee(this,e,Fe,Pe,te,{open:0,isLoading:1,selectedReminderIndex:8,isEditing:3,editInterval:2})}}export{Ue as A};
