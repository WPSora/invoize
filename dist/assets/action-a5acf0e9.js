import{ac as i,as as d,at as n,aE as f,ax as p}from"./Toaster.svelte_svelte_type_style_lang-89e761ff.js";import{u as y}from"./helpers-9eb8762f.js";import{u as b,B as h,C as g}from"./options-1651b5d0.js";function w(e){const{open:l,forceVisible:a,activeTrigger:t}=e;return i([l,a,t],([r,s,o])=>(r||s)&&o!==null)}const m={floating:{},focusTrap:{},modal:{},escapeKeydown:{},portal:"body"},F=(e,l)=>{e.dataset.escapee="";const{anchorElement:a,open:t,options:r}=l;if(!a||!t||!r)return{destroy:d};const s={...m,...r},o=[];if(s.portal!==null&&o.push(b(e,s.portal).destroy),o.push(y(a,e,s.floating).destroy),s.focusTrap!==null){const{useFocusTrap:u}=h({immediate:!0,escapeDeactivates:!1,allowOutsideClick:!0,returnFocusOnDeactivate:!1,fallbackFocus:e,...s.focusTrap});o.push(u(e).destroy)}s.modal!==null&&o.push(g(e,{onClose:()=>{n(a)&&(t.set(!1),a.focus())},shouldCloseOnInteractOutside:u=>!(u.defaultPrevented||n(a)&&a.contains(u.target)),...s.modal}).destroy),s.escapeKeydown!==null&&o.push(f(e,{enabled:t,handler:()=>{t.set(!1)},...s.escapeKeydown}).destroy);const c=p(...o);return{destroy(){c()}}};export{w as d,F as u};
