import{S as R,i as T,s as N,e as x,d as I,f as m,n as g,k as $,x as M,g as A,Q as F,B as ie,c as h,m as k,j as _,t as p,l as v,p as y,h as B,o as C,aW as se,a as P,X as Q,O as Ye,R as ge,P as Ze,Z as J,a4 as X,a5 as Y,a6 as Z,E as V,F as W,G as q,v as D,an as K,ao as ee,w as te}from"./Toaster.svelte_svelte_type_style_lang-7f7e6c6a.js";import{T as He,a as Je,b as Ke,c as re,d as et,e as ae}from"./table-row-c2593e52.js";import{c as L,a as tt,r as be,b as rt,P as nt,S as ne,R as Be}from"./Pagination-5e0b67d4.js";import{i as he}from"./recurring-store-47d6cb68.js";import{i as lt,f as ot,h as st}from"./errorHelper-c5761fa6.js";import{c as ke}from"./decimalFormatter-88348579.js";import{h as ct}from"./moment-a9aaa855.js";import{A as it,a as at,b as ft}from"./index-27b43081.js";import{S as H}from"./index-8135346f.js";import{B as ut,r as ve}from"./Breadcrumb-694ccbf9.js";import{P as _t}from"./PageTitle-9d33baef.js";import{S as pt}from"./SearchBar-de2204b1.js";import{U as mt}from"./upgrade-to-pro-a9b961be.js";import{R as $t}from"./separator-8c150833.js";import{S as dt}from"./App-43cd5269.js";import{P as gt}from"./plus-2e7ded7f.js";import{F as bt}from"./frown-b62b32ea.js";import"./index-dc1d53ab.js";import"./arrays-9d05857f.js";import"./updater-76d8237b.js";import"./Check-ec98a9d8.js";import"./options-d5ba9c63.js";import"./x-b214d010.js";import"./action-d784a92a.js";import"./helpers-5c749aec.js";import"./create-eb81c484.js";import"./ProBadge-053dd74a.js";import"./input-64299b06.js";import"./search-bd6b6cd8.js";import"./refresh-ccw-339b4929.js";import"./card-footer-319409b2.js";import"./card-description-64c50d70.js";import"./main-23792a0b.js";import"./Toaster-78b616d8.js";function ht(i){let e;return{c(){e=x("div"),e.textContent="#",I(e,"class","text-center")},m(r,t){m(r,e,t)},p:g,i:g,o:g,d(r){r&&$(e)}}}class kt extends R{constructor(e){super(),T(this,e,null,ht,N,{})}}function vt(i){let e,r;return{c(){e=x("div"),r=M(i[0]),I(e,"class","text-xs text-center")},m(t,l){m(t,e,l),A(e,r)},p(t,[l]){l&1&&F(r,t[0])},i:g,o:g,d(t){t&&$(e)}}}function wt(i,e,r){let{id:t}=e;return i.$$set=l=>{"id"in l&&r(0,t=l.id)},[t]}class we extends R{constructor(e){super(),T(this,e,wt,vt,N,{id:0})}}function xt(i){let e;return{c(){e=x("div"),e.textContent="Customer"},m(r,t){m(r,e,t)},p:g,i:g,o:g,d(r){r&&$(e)}}}class It extends R{constructor(e){super(),T(this,e,null,xt,N,{})}}function Pt(i){let e,r;return{c(){e=x("div"),r=M(i[1]),I(e,"class","text-wrap text-start")},m(t,l){m(t,e,l),A(e,r)},p(t,l){l&2&&F(r,t[1])},d(t){t&&$(e)}}}function Ct(i){let e,r;return e=new ie({props:{variant:"link",class:"pl-0 text-sm",$$slots:{default:[Pt]},$$scope:{ctx:i}}}),e.$on("click",i[2]),{c(){h(e.$$.fragment)},m(t,l){k(e,t,l),r=!0},p(t,[l]){const n={};l&10&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){v(e,t)}}}function Lt(i,e,r){let{id:t}=e,{name:l}=e;const n=()=>location.href=`#/recurring/${t}`;return i.$$set=o=>{"id"in o&&r(0,t=o.id),"name"in o&&r(1,l=o.name)},[t,l,n]}class At extends R{constructor(e){super(),T(this,e,Lt,Ct,N,{id:0,name:1})}}function Rt(i){let e;return{c(){e=x("div"),e.textContent="Last Invoice",I(e,"class","text-center")},m(r,t){m(r,e,t)},p:g,i:g,o:g,d(r){r&&$(e)}}}class Tt extends R{constructor(e){super(),T(this,e,null,Rt,N,{})}}function Nt(i){let e;return{c(){e=x("div"),e.textContent="-"},m(r,t){m(r,e,t)},p:g,i:g,o:g,d(r){r&&$(e)}}}function St(i){let e,r;return e=new ie({props:{variant:"link",class:"text-xs",$$slots:{default:[yt]},$$scope:{ctx:i}}}),e.$on("click",i[1]),{c(){h(e.$$.fragment)},m(t,l){k(e,t,l),r=!0},p(t,l){const n={};l&5&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){v(e,t)}}}function yt(i){var t;let e=((t=i[0])==null?void 0:t.name)+"",r;return{c(){r=M(e)},m(l,n){m(l,r,n)},p(l,n){var o;n&1&&e!==(e=((o=l[0])==null?void 0:o.name)+"")&&F(r,e)},d(l){l&&$(r)}}}function Bt(i){let e,r,t,l;const n=[St,Nt],o=[];function c(s,a){var u;return(u=s[0])!=null&&u.name?0:1}return r=c(i),t=o[r]=n[r](i),{c(){e=x("div"),t.c(),I(e,"class","flex justify-center")},m(s,a){m(s,e,a),o[r].m(e,null),l=!0},p(s,[a]){let u=r;r=c(s),r===u?o[r].p(s,a):(y(),p(o[u],1,1,()=>{o[u]=null}),B(),t=o[r],t?t.p(s,a):(t=o[r]=n[r](s),t.c()),_(t,1),t.m(e,null))},i(s){l||(_(t),l=!0)},o(s){p(t),l=!1},d(s){s&&$(e),o[r].d()}}}function Dt(i,e,r){let{lastInvoice:t}=e;const l=()=>location.href=`#/invoice/${t==null?void 0:t.token}`;return i.$$set=n=>{"lastInvoice"in n&&r(0,t=n.lastInvoice)},[t,l]}class Mt extends R{constructor(e){super(),T(this,e,Dt,Bt,N,{lastInvoice:0})}}function jt(i){let e;return{c(){e=x("div"),e.textContent="Total",I(e,"class","text-center")},m(r,t){m(r,e,t)},p:g,i:g,o:g,d(r){r&&$(e)}}}class Qt extends R{constructor(e){super(),T(this,e,null,jt,N,{})}}function Ft(i){let e,r=(ke(i[1][0],i[0])??0)+"",t;return{c(){e=x("div"),t=M(r),I(e,"class","text-center text-xs")},m(l,n){m(l,e,n),A(e,t)},p(l,n){n&3&&r!==(r=(ke(l[1][0],l[0])??0)+"")&&F(t,r)},d(l){l&&$(e)}}}function Et(i){let e;return{c(){e=x("div"),e.textContent="Multi Currency",I(e,"class","text-center text-xs")},m(r,t){m(r,e,t)},p:g,d(r){r&&$(e)}}}function Ut(i){let e;function r(n,o){return n[1].length>1?Et:Ft}let t=r(i),l=t(i);return{c(){l.c(),e=C()},m(n,o){l.m(n,o),m(n,e,o)},p(n,[o]){t===(t=r(n))&&l?l.p(n,o):(l.d(1),l=t(n),l&&(l.c(),l.m(e.parentNode,e)))},i:g,o:g,d(n){n&&$(e),l.d(n)}}}function Vt(i,e,r){let{total:t}=e,{currency:l}=e;return i.$$set=n=>{"total"in n&&r(0,t=n.total),"currency"in n&&r(1,l=n.currency)},[t,l]}class Wt extends R{constructor(e){super(),T(this,e,Vt,Ut,N,{total:0,currency:1})}}function qt(i){let e;return{c(){e=x("div"),e.textContent="Upcoming Invoice",I(e,"class","text-center")},m(r,t){m(r,e,t)},p:g,i:g,o:g,d(r){r&&$(e)}}}class Gt extends R{constructor(e){super(),T(this,e,null,qt,N,{})}}function Ot(i){let e,r=(i[0]?i[1]:"-")+"",t;return{c(){e=x("div"),t=M(r),I(e,"class","text-center text-xs")},m(l,n){m(l,e,n),A(e,t)},p(l,[n]){n&3&&r!==(r=(l[0]?l[1]:"-")+"")&&F(t,r)},i:g,o:g,d(l){l&&$(e)}}}function zt(i,e,r){let t,{upcomingInvoiceDate:l}=e;return i.$$set=n=>{"upcomingInvoiceDate"in n&&r(0,l=n.upcomingInvoiceDate)},i.$$.update=()=>{i.$$.dirty&1&&r(1,t=ct(l).format(invoize.date_format))},[l,t]}class Xt extends R{constructor(e){super(),T(this,e,zt,Ot,N,{upcomingInvoiceDate:0})}}function Yt(i){let e;return{c(){e=x("div"),e.textContent="Active",I(e,"class","text-center")},m(r,t){m(r,e,t)},p:g,i:g,o:g,d(r){r&&$(e)}}}class Zt extends R{constructor(e){super(),T(this,e,null,Yt,N,{})}}function Ht(i){let e,r,t;return{c(){e=x("div"),r=M(i[0]),I(e,"class",t="text-center font-semibold text-xs "+(i[0]>0?"text-green-600":"text-gray-300"))},m(l,n){m(l,e,n),A(e,r)},p(l,[n]){n&1&&F(r,l[0]),n&1&&t!==(t="text-center font-semibold text-xs "+(l[0]>0?"text-green-600":"text-gray-300"))&&I(e,"class",t)},i:g,o:g,d(l){l&&$(e)}}}function Jt(i,e,r){let{totalActive:t}=e;return i.$$set=l=>{"totalActive"in l&&r(0,t=l.totalActive)},[t]}class Kt extends R{constructor(e){super(),T(this,e,Jt,Ht,N,{totalActive:0})}}function er(i){let e;return{c(){e=x("div"),e.textContent="Inactive",I(e,"class","text-center")},m(r,t){m(r,e,t)},p:g,i:g,o:g,d(r){r&&$(e)}}}class tr extends R{constructor(e){super(),T(this,e,null,er,N,{})}}function rr(i){let e,r,t;return{c(){e=x("div"),r=M(i[0]),I(e,"class",t="text-center font-semibold text-xs "+(i[0]>0?"text-destructive":"text-gray-300"))},m(l,n){m(l,e,n),A(e,r)},p(l,[n]){n&1&&F(r,l[0]),n&1&&t!==(t="text-center font-semibold text-xs "+(l[0]>0?"text-destructive":"text-gray-300"))&&I(e,"class",t)},i:g,o:g,d(l){l&&$(e)}}}function nr(i,e,r){let{totalInactive:t}=e;return i.$$set=l=>{"totalInactive"in l&&r(0,t=l.totalInactive)},[t]}class lr extends R{constructor(e){super(),T(this,e,nr,rr,N,{totalInactive:0})}}const or=(i,e)=>{const r=tt(e),t=r.createColumns([r.column({header:()=>L(kt),accessor:"id",cell:s=>{if(se(lt))return L(we,{id:s.value});{const a=se(i),u=se(e).findIndex(f=>f.id===s.value),d=(a.page-1)*a.perPage+u+1;return L(we,{id:d})}}}),r.column({header:()=>L(It),accessor:"name",cell:s=>{const a=s.row.original.id;return L(At,{id:a,name:s.value})}}),r.column({header:()=>L(Tt),accessor:"last_invoice",cell:s=>L(Mt,{lastInvoice:s.value})}),r.column({header:()=>L(Gt),accessor:"next_invoice",cell:s=>L(Xt,{upcomingInvoiceDate:s.value})}),r.column({header:()=>L(Qt),accessor:"amount",cell:s=>{const a=s.row.original.currency;return L(Wt,{total:s.value,currency:a})}}),r.column({header:()=>L(Zt),cell:s=>{const a=s.row.original.total_active;return L(Kt,{totalActive:a})}}),r.column({header:()=>L(tr),cell:s=>{const a=s.row.original.total_inactive;return L(lr,{totalInactive:a})}})]),{headerRows:l,rows:n,tableAttrs:o,tableBodyAttrs:c}=r.createViewModel(t);return{headerRows:l,rows:n,tableAttrs:o,tableBodyAttrs:c}};function xe(i,e,r){const t=i.slice();return t[43]=e[r],t}function Ie(i,e,r){const t=i.slice();return t[47]=e[r],t}function Pe(i,e,r){const t=i.slice();return t[34]=e[r],t}function sr(i,e,r){const t=i.slice();return t[34]=e[r],t}function cr(i,e,r){const t=i.slice();return t[34]=e[r],t}function ir(i,e,r){const t=i.slice();return t[34]=e[r],t}function Ce(i,e,r){const t=i.slice();return t[51]=e[r],t}function Le(i,e,r){const t=i.slice();return t[47]=e[r],t}function ar(i){let e,r,t,l,n,o,c;e=new it({props:{class:"flex sm:flex-row flex-col items-center justify-between mb-2 gap-y-2",$$slots:{default:[br]},$$scope:{ctx:i}}});const s=[kr,hr],a=[];function u(f,b){return!f[3]&&f[6]?0:1}t=u(i),l=a[t]=s[t](i);let d=!i[3]&&i[0].length!==0&&ye(i);return{c(){h(e.$$.fragment),r=P(),l.c(),n=P(),d&&d.c(),o=C()},m(f,b){k(e,f,b),m(f,r,b),a[t].m(f,b),m(f,n,b),d&&d.m(f,b),m(f,o,b),c=!0},p(f,b){const S={};b[0]&94|b[1]&33554432&&(S.$$scope={dirty:b,ctx:f}),e.$set(S);let j=t;t=u(f),t===j?a[t].p(f,b):(y(),p(a[j],1,1,()=>{a[j]=null}),B(),l=a[t],l?l.p(f,b):(l=a[t]=s[t](f),l.c()),_(l,1),l.m(n.parentNode,n)),!f[3]&&f[0].length!==0?d?(d.p(f,b),b[0]&9&&_(d,1)):(d=ye(f),d.c(),_(d,1),d.m(o.parentNode,o)):d&&(y(),p(d,1,1,()=>{d=null}),B())},i(f){c||(_(e.$$.fragment,f),_(l),_(d),c=!0)},o(f){p(e.$$.fragment,f),p(l),p(d),c=!1},d(f){f&&($(r),$(n),$(o)),v(e,f),a[t].d(f),d&&d.d(f)}}}function fr(i){let e,r;return e=new mt({}),{c(){h(e.$$.fragment)},m(t,l){k(e,t,l),r=!0},p:g,i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){v(e,t)}}}function ur(i){let e,r,t,l,n,o;const c=[mr,pr],s=[];function a(u,d){return u[6]&&!u[1]&&!u[3]?0:1}return e=a(i),r=s[e]=c[e](i),n=new ie({props:{variant:"default",class:"sm:w-fit w-full",$$slots:{default:[gr]},$$scope:{ctx:i}}}),n.$on("click",i[21]),{c(){r.c(),t=P(),l=x("div"),h(n.$$.fragment),I(l,"class","flex flex-row flex-nowrap justify-between gap-x-6 sm:w-fit w-full")},m(u,d){s[e].m(u,d),m(u,t,d),m(u,l,d),k(n,l,null),o=!0},p(u,d){let f=e;e=a(u),e===f?s[e].p(u,d):(y(),p(s[f],1,1,()=>{s[f]=null}),B(),r=s[e],r?r.p(u,d):(r=s[e]=c[e](u),r.c()),_(r,1),r.m(t.parentNode,t));const b={};d[1]&33554432&&(b.$$scope={dirty:d,ctx:u}),n.$set(b)},i(u){o||(_(r),_(n.$$.fragment,u),o=!0)},o(u){p(r),p(n.$$.fragment,u),o=!1},d(u){u&&($(t),$(l)),s[e].d(u),v(n)}}}function _r(i){let e,r,t,l,n,o,c,s;return r=new H({props:{class:"h-10 w-60"}}),n=new H({props:{class:"h-10 w-52"}}),c=new H({props:{class:"h-10 w-32"}}),{c(){e=x("div"),h(r.$$.fragment),t=P(),l=x("div"),h(n.$$.fragment),o=P(),h(c.$$.fragment),I(l,"class","flex flex-nowrap gap-x-6"),I(e,"class","flex flex-nowrap justify-between w-full")},m(a,u){m(a,e,u),k(r,e,null),A(e,t),A(e,l),k(n,l,null),A(l,o),k(c,l,null),s=!0},p:g,i(a){s||(_(r.$$.fragment,a),_(n.$$.fragment,a),_(c.$$.fragment,a),s=!0)},o(a){p(r.$$.fragment,a),p(n.$$.fragment,a),p(c.$$.fragment,a),s=!1},d(a){a&&$(e),v(r),v(n),v(c)}}}function pr(i){let e,r,t;function l(o){i[20](o)}let n={isSearching:i[3]&&i[1],handleSearch:i[15],placeholder:"Search recurring invoice by customer"};return i[2]!==void 0&&(n.searchQuery=i[2]),e=new pt({props:n}),X.push(()=>Y(e,"searchQuery",l)),{c(){h(e.$$.fragment)},m(o,c){k(e,o,c),t=!0},p(o,c){const s={};c[0]&10&&(s.isSearching=o[3]&&o[1]),!r&&c[0]&4&&(r=!0,s.searchQuery=o[2],Z(()=>r=!1)),e.$set(s)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){v(e,o)}}}function mr(i){let e,r,t,l,n,o,c,s;return r=new bt({props:{class:"mr-2 h-6 w-6 text-primary"}}),n=new at({props:{$$slots:{default:[$r]},$$scope:{ctx:i}}}),c=new ft({props:{$$slots:{default:[dr]},$$scope:{ctx:i}}}),{c(){e=x("div"),h(r.$$.fragment),t=P(),l=x("div"),h(n.$$.fragment),o=P(),h(c.$$.fragment),I(e,"class","flex items-center")},m(a,u){m(a,e,u),k(r,e,null),A(e,t),A(e,l),k(n,l,null),A(l,o),k(c,l,null),s=!0},p(a,u){const d={};u[1]&33554432&&(d.$$scope={dirty:u,ctx:a}),n.$set(d);const f={};u[1]&33554432&&(f.$$scope={dirty:u,ctx:a}),c.$set(f)},i(a){s||(_(r.$$.fragment,a),_(n.$$.fragment,a),_(c.$$.fragment,a),s=!0)},o(a){p(r.$$.fragment,a),p(n.$$.fragment,a),p(c.$$.fragment,a),s=!1},d(a){a&&$(e),v(r),v(n),v(c)}}}function $r(i){let e;return{c(){e=M("There is no recurring invoice yet")},m(r,t){m(r,e,t)},d(r){r&&$(e)}}}function dr(i){let e;return{c(){e=M("Let's create your first recurring invoice")},m(r,t){m(r,e,t)},d(r){r&&$(e)}}}function gr(i){let e,r,t,l;return e=new gt({props:{class:"mr-1 h-4 w-4"}}),{c(){h(e.$$.fragment),r=P(),t=x("span"),t.textContent="Create Recurring"},m(n,o){k(e,n,o),m(n,r,o),m(n,t,o),l=!0},p:g,i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),l=!1},d(n){n&&($(r),$(t)),v(e,n)}}}function br(i){let e,r,t,l;const n=[_r,ur],o=[];function c(s,a){return s[3]&&!s[4]?0:1}return e=c(i),r=o[e]=n[e](i),{c(){r.c(),t=C()},m(s,a){o[e].m(s,a),m(s,t,a),l=!0},p(s,a){let u=e;e=c(s),e===u?o[e].p(s,a):(y(),p(o[u],1,1,()=>{o[u]=null}),B(),r=o[e],r?r.p(s,a):(r=o[e]=n[e](s),r.c()),_(r,1),r.m(t.parentNode,t))},i(s){l||(_(r),l=!0)},o(s){p(r),l=!1},d(s){s&&$(t),o[e].d(s)}}}function hr(i){let e,r,t;const l=[i[9],{class:"shadow-xl"}];let n={$$slots:{default:[Vr]},$$scope:{ctx:i}};for(let o=0;o<l.length;o+=1)n=V(n,l[o]);return r=new He({props:n}),{c(){e=x("div"),h(r.$$.fragment),I(e,"class","shadow-sm border rounded-md bg-background")},m(o,c){m(o,e,c),k(r,e,null),t=!0},p(o,c){const s=c[0]&512?W(l,[q(o[9]),l[1]]):{};c[0]&7177|c[1]&33554432&&(s.$$scope={dirty:c,ctx:o}),r.$set(s)},i(o){t||(_(r.$$.fragment,o),t=!0)},o(o){p(r.$$.fragment,o),t=!1},d(o){o&&$(e),v(r)}}}function kr(i){let e,r,t,l,n,o;return r=new dt({props:{class:"h-28 w-28 text-gray-400",strokeWidth:.5}}),{c(){e=x("div"),h(r.$$.fragment),t=M(`
      No `),l=M(De),n=M(" found"),I(e,"class","flex flex-col justify-center items-center h-60 text-muted-foreground bg-background rounded-lg shadow-sm")},m(c,s){m(c,e,s),k(r,e,null),A(e,t),A(e,l),A(e,n),o=!0},p:g,i(c){o||(_(r.$$.fragment,c),o=!0)},o(c){p(r.$$.fragment,c),o=!1},d(c){c&&$(e),v(r)}}}function vr(i){let e,r;return e=new Be({props:{of:i[47].render()}}),{c(){h(e.$$.fragment)},m(t,l){k(e,t,l),r=!0},p(t,l){const n={};l[0]&1024&&(n.of=t[47].render()),e.$set(n)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){v(e,t)}}}function wr(i){let e,r,t;const l=[i[50]];let n={$$slots:{default:[vr]},$$scope:{ctx:i}};for(let o=0;o<l.length;o+=1)n=V(n,l[o]);return e=new et({props:n}),{c(){h(e.$$.fragment),r=P()},m(o,c){k(e,o,c),m(o,r,c),t=!0},p(o,c){const s=c[1]&524288?W(l,[q(o[50])]):{};c[0]&1024|c[1]&33554432&&(s.$$scope={dirty:c,ctx:o}),e.$set(s)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){o&&$(r),v(e,o)}}}function Ae(i,e){let r,t,l;return t=new ne({props:{attrs:e[47].attrs(),$$slots:{default:[wr,({attrs:n})=>({50:n}),({attrs:n})=>[0,n?524288:0]]},$$scope:{ctx:e}}}),{key:i,first:null,c(){r=C(),h(t.$$.fragment),this.first=r},m(n,o){m(n,r,o),k(t,n,o),l=!0},p(n,o){e=n;const c={};o[0]&1024&&(c.attrs=e[47].attrs()),o[0]&1024|o[1]&34078720&&(c.$$scope={dirty:o,ctx:e}),t.$set(c)},i(n){l||(_(t.$$.fragment,n),l=!0)},o(n){p(t.$$.fragment,n),l=!1},d(n){n&&$(r),v(t,n)}}}function xr(i){let e=[],r=new Map,t,l,n=D(i[51].cells);const o=c=>c[47].id;for(let c=0;c<n.length;c+=1){let s=Le(i,n,c),a=o(s);r.set(a,e[c]=Ae(a,s))}return{c(){for(let c=0;c<e.length;c+=1)e[c].c();t=C()},m(c,s){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(c,s);m(c,t,s),l=!0},p(c,s){s[0]&1024|s[1]&524288&&(n=D(c[51].cells),y(),e=K(e,s,o,1,c,n,r,t.parentNode,ee,Ae,t,Le),B())},i(c){if(!l){for(let s=0;s<n.length;s+=1)_(e[s]);l=!0}},o(c){for(let s=0;s<e.length;s+=1)p(e[s]);l=!1},d(c){c&&$(t);for(let s=0;s<e.length;s+=1)e[s].d(c)}}}function Ir(i){let e,r,t;const l=[i[46]];let n={$$slots:{default:[xr]},$$scope:{ctx:i}};for(let o=0;o<l.length;o+=1)n=V(n,l[o]);return e=new re({props:n}),{c(){h(e.$$.fragment),r=P()},m(o,c){k(e,o,c),m(o,r,c),t=!0},p(o,c){const s=c[1]&32768?W(l,[q(o[46])]):{};c[0]&1024|c[1]&33554432&&(s.$$scope={dirty:c,ctx:o}),e.$set(s)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){o&&$(r),v(e,o)}}}function Re(i,e){let r,t,l;return t=new ne({props:{rowAttrs:e[51].attrs(),$$slots:{default:[Ir,({rowAttrs:n})=>({46:n}),({rowAttrs:n})=>[0,n?32768:0]]},$$scope:{ctx:e}}}),{key:i,first:null,c(){r=C(),h(t.$$.fragment),this.first=r},m(n,o){m(n,r,o),k(t,n,o),l=!0},p(n,o){e=n;const c={};o[0]&1024&&(c.rowAttrs=e[51].attrs()),o[0]&1024|o[1]&33587200&&(c.$$scope={dirty:o,ctx:e}),t.$set(c)},i(n){l||(_(t.$$.fragment,n),l=!0)},o(n){p(t.$$.fragment,n),l=!1},d(n){n&&$(r),v(t,n)}}}function Pr(i){let e=[],r=new Map,t,l,n=D(i[10]);const o=c=>c[51].id;for(let c=0;c<n.length;c+=1){let s=Ce(i,n,c),a=o(s);r.set(a,e[c]=Re(a,s))}return{c(){for(let c=0;c<e.length;c+=1)e[c].c();t=C()},m(c,s){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(c,s);m(c,t,s),l=!0},p(c,s){s[0]&1024|s[1]&557056&&(n=D(c[10]),y(),e=K(e,s,o,1,c,n,r,t.parentNode,ee,Re,t,Ce),B())},i(c){if(!l){for(let s=0;s<n.length;s+=1)_(e[s]);l=!0}},o(c){for(let s=0;s<e.length;s+=1)p(e[s]);l=!1},d(c){c&&$(t);for(let s=0;s<e.length;s+=1)e[s].d(c)}}}function Cr(i){let e=[],r=new Map,t,l,n=D(i[12]);const o=c=>c[43].id;for(let c=0;c<n.length;c+=1){let s=xe(i,n,c),a=o(s);r.set(a,e[c]=Ne(a,s))}return{c(){for(let c=0;c<e.length;c+=1)e[c].c();t=C()},m(c,s){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(c,s);m(c,t,s),l=!0},p(c,s){s[0]&4096|s[1]&557056&&(n=D(c[12]),y(),e=K(e,s,o,1,c,n,r,t.parentNode,ee,Ne,t,xe),B())},i(c){if(!l){for(let s=0;s<n.length;s+=1)_(e[s]);l=!0}},o(c){for(let s=0;s<e.length;s+=1)p(e[s]);l=!1},d(c){c&&$(t);for(let s=0;s<e.length;s+=1)e[s].d(c)}}}function Lr(i){let e,r,t,l;const n=[yr,Sr],o=[];function c(s,a){return s[0].length===0?0:1}return e=c(i),r=o[e]=n[e](i),{c(){r.c(),t=C()},m(s,a){o[e].m(s,a),m(s,t,a),l=!0},p(s,a){let u=e;e=c(s),e===u?o[e].p(s,a):(y(),p(o[u],1,1,()=>{o[u]=null}),B(),r=o[e],r?r.p(s,a):(r=o[e]=n[e](s),r.c()),_(r,1),r.m(t.parentNode,t))},i(s){l||(_(r),l=!0)},o(s){p(r),l=!1},d(s){s&&$(t),o[e].d(s)}}}function Ar(i){let e,r;return e=new Be({props:{of:i[47].render()}}),{c(){h(e.$$.fragment)},m(t,l){k(e,t,l),r=!0},p(t,l){const n={};l[0]&4096&&(n.of=t[47].render()),e.$set(n)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){v(e,t)}}}function Rr(i){let e,r,t;const l=[i[50]];let n={$$slots:{default:[Ar]},$$scope:{ctx:i}};for(let o=0;o<l.length;o+=1)n=V(n,l[o]);return e=new ae({props:n}),{c(){h(e.$$.fragment),r=P()},m(o,c){k(e,o,c),m(o,r,c),t=!0},p(o,c){const s=c[1]&524288?W(l,[q(o[50])]):{};c[0]&4096|c[1]&33554432&&(s.$$scope={dirty:c,ctx:o}),e.$set(s)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){o&&$(r),v(e,o)}}}function Te(i,e){let r,t,l;return t=new ne({props:{attrs:e[47].attrs(),$$slots:{default:[Rr,({attrs:n})=>({50:n}),({attrs:n})=>[0,n?524288:0]]},$$scope:{ctx:e}}}),{key:i,first:null,c(){r=C(),h(t.$$.fragment),this.first=r},m(n,o){m(n,r,o),k(t,n,o),l=!0},p(n,o){e=n;const c={};o[0]&4096&&(c.attrs=e[47].attrs()),o[0]&4096|o[1]&34078720&&(c.$$scope={dirty:o,ctx:e}),t.$set(c)},i(n){l||(_(t.$$.fragment,n),l=!0)},o(n){p(t.$$.fragment,n),l=!1},d(n){n&&$(r),v(t,n)}}}function Tr(i){let e=[],r=new Map,t,l,n=D(i[43].cells);const o=c=>c[47].id;for(let c=0;c<n.length;c+=1){let s=Ie(i,n,c),a=o(s);r.set(a,e[c]=Te(a,s))}return{c(){for(let c=0;c<e.length;c+=1)e[c].c();t=C()},m(c,s){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(c,s);m(c,t,s),l=!0},p(c,s){s[0]&4096|s[1]&524288&&(n=D(c[43].cells),y(),e=K(e,s,o,1,c,n,r,t.parentNode,ee,Te,t,Ie),B())},i(c){if(!l){for(let s=0;s<n.length;s+=1)_(e[s]);l=!0}},o(c){for(let s=0;s<e.length;s+=1)p(e[s]);l=!1},d(c){c&&$(t);for(let s=0;s<e.length;s+=1)e[s].d(c)}}}function Nr(i){let e,r,t;const l=[i[46],{class:"border-b-0"}];let n={$$slots:{default:[Tr]},$$scope:{ctx:i}};for(let o=0;o<l.length;o+=1)n=V(n,l[o]);return e=new re({props:n}),{c(){h(e.$$.fragment),r=P()},m(o,c){k(e,o,c),m(o,r,c),t=!0},p(o,c){const s=c[1]&32768?W(l,[q(o[46]),l[1]]):{};c[0]&4096|c[1]&33554432&&(s.$$scope={dirty:c,ctx:o}),e.$set(s)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){o&&$(r),v(e,o)}}}function Ne(i,e){let r,t,l;return t=new ne({props:{rowAttrs:e[43].attrs(),$$slots:{default:[Nr,({rowAttrs:n})=>({46:n}),({rowAttrs:n})=>[0,n?32768:0]]},$$scope:{ctx:e}}}),{key:i,first:null,c(){r=C(),h(t.$$.fragment),this.first=r},m(n,o){m(n,r,o),k(t,n,o),l=!0},p(n,o){e=n;const c={};o[0]&4096&&(c.rowAttrs=e[43].attrs()),o[0]&4096|o[1]&33587200&&(c.$$scope={dirty:o,ctx:e}),t.$set(c)},i(n){l||(_(t.$$.fragment,n),l=!0)},o(n){p(t.$$.fragment,n),l=!1},d(n){n&&$(r),v(t,n)}}}function Sr(i){let e,r,t=D(i[0]),l=[];for(let o=0;o<t.length;o+=1)l[o]=Se(Pe(i,t,o));const n=o=>p(l[o],1,1,()=>{l[o]=null});return{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=C()},m(o,c){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(o,c);m(o,e,c),r=!0},p(o,c){if(c[0]&1){t=D(o[0]);let s;for(s=0;s<t.length;s+=1){const a=Pe(o,t,s);l[s]?(l[s].p(a,c),_(l[s],1)):(l[s]=Se(a),l[s].c(),_(l[s],1),l[s].m(e.parentNode,e))}for(y(),s=t.length;s<l.length;s+=1)n(s);B()}},i(o){if(!r){for(let c=0;c<t.length;c+=1)_(l[c]);r=!0}},o(o){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)p(l[c]);r=!1},d(o){o&&$(e),te(l,o)}}}function yr(i){let e,r,t=D([1,2,3,4,5]),l=[];for(let n=0;n<5;n+=1)l[n]=Er(cr(i,t,n));return{c(){for(let n=0;n<5;n+=1)l[n].c();e=C()},m(n,o){for(let c=0;c<5;c+=1)l[c]&&l[c].m(n,o);m(n,e,o),r=!0},p:g,i(n){if(!r){for(let o=0;o<5;o+=1)_(l[o]);r=!0}},o(n){l=l.filter(Boolean);for(let o=0;o<5;o+=1)p(l[o]);r=!1},d(n){n&&$(e),te(l,n)}}}function Br(i){let e,r;return e=new H({props:{class:"h-6 w-11/12 m-4 mx-auto rounded-md"}}),{c(){h(e.$$.fragment)},m(t,l){k(e,t,l),r=!0},p:g,i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){v(e,t)}}}function Dr(i){let e,r;return e=new ae({props:{$$slots:{default:[Br]},$$scope:{ctx:i}}}),{c(){h(e.$$.fragment)},m(t,l){k(e,t,l),r=!0},p(t,l){const n={};l[1]&33554432&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){v(e,t)}}}function Mr(i){let e,r,t=D([1,2,3,4,5,6,7,8]),l=[];for(let n=0;n<8;n+=1)l[n]=Dr(sr(i,t,n));return{c(){for(let n=0;n<8;n+=1)l[n].c();e=P()},m(n,o){for(let c=0;c<8;c+=1)l[c]&&l[c].m(n,o);m(n,e,o),r=!0},p:g,i(n){if(!r){for(let o=0;o<8;o+=1)_(l[o]);r=!0}},o(n){l=l.filter(Boolean);for(let o=0;o<8;o+=1)p(l[o]);r=!1},d(n){n&&$(e),te(l,n)}}}function Se(i){let e,r;return e=new re({props:{$$slots:{default:[Mr]},$$scope:{ctx:i}}}),{c(){h(e.$$.fragment)},m(t,l){k(e,t,l),r=!0},p(t,l){const n={};l[1]&33554432&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){v(e,t)}}}function jr(i){let e,r;return e=new H({props:{class:"h-6 w-11/12 m-4 mx-auto rounded-md"}}),{c(){h(e.$$.fragment)},m(t,l){k(e,t,l),r=!0},p:g,i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){v(e,t)}}}function Qr(i){let e,r;return e=new ae({props:{$$slots:{default:[jr]},$$scope:{ctx:i}}}),{c(){h(e.$$.fragment)},m(t,l){k(e,t,l),r=!0},p(t,l){const n={};l[1]&33554432&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){v(e,t)}}}function Fr(i){let e,r,t=D([1,2,3,4,5,6,7,8]),l=[];for(let n=0;n<8;n+=1)l[n]=Qr(ir(i,t,n));return{c(){for(let n=0;n<8;n+=1)l[n].c();e=P()},m(n,o){for(let c=0;c<8;c+=1)l[c]&&l[c].m(n,o);m(n,e,o),r=!0},p:g,i(n){if(!r){for(let o=0;o<8;o+=1)_(l[o]);r=!0}},o(n){l=l.filter(Boolean);for(let o=0;o<8;o+=1)p(l[o]);r=!1},d(n){n&&$(e),te(l,n)}}}function Er(i){let e,r;return e=new re({props:{$$slots:{default:[Fr]},$$scope:{ctx:i}}}),{c(){h(e.$$.fragment)},m(t,l){k(e,t,l),r=!0},p(t,l){const n={};l[1]&33554432&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(_(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){v(e,t)}}}function Ur(i){let e,r,t,l;const n=[Lr,Cr],o=[];function c(s,a){return s[3]?0:1}return e=c(i),r=o[e]=n[e](i),{c(){r.c(),t=C()},m(s,a){o[e].m(s,a),m(s,t,a),l=!0},p(s,a){let u=e;e=c(s),e===u?o[e].p(s,a):(y(),p(o[u],1,1,()=>{o[u]=null}),B(),r=o[e],r?r.p(s,a):(r=o[e]=n[e](s),r.c()),_(r,1),r.m(t.parentNode,t))},i(s){l||(_(r),l=!0)},o(s){p(r),l=!1},d(s){s&&$(t),o[e].d(s)}}}function Vr(i){let e,r,t,l;e=new Je({props:{$$slots:{default:[Pr]},$$scope:{ctx:i}}});const n=[i[11]];let o={$$slots:{default:[Ur]},$$scope:{ctx:i}};for(let c=0;c<n.length;c+=1)o=V(o,n[c]);return t=new Ke({props:o}),{c(){h(e.$$.fragment),r=P(),h(t.$$.fragment)},m(c,s){k(e,c,s),m(c,r,s),k(t,c,s),l=!0},p(c,s){const a={};s[0]&1024|s[1]&33554432&&(a.$$scope={dirty:s,ctx:c}),e.$set(a);const u=s[0]&2048?W(n,[q(c[11])]):{};s[0]&4105|s[1]&33554432&&(u.$$scope={dirty:s,ctx:c}),t.$set(u)},i(c){l||(_(e.$$.fragment,c),_(t.$$.fragment,c),l=!0)},o(c){p(e.$$.fragment,c),p(t.$$.fragment,c),l=!1},d(c){c&&$(r),v(e,c),v(t,c)}}}function ye(i){let e,r,t,l,n,o;function c(f){i[22](f)}function s(f){i[23](f)}function a(f){i[24](f)}function u(f){i[25](f)}let d={name:"recurring-client",listApi:ce};return i[0]!==void 0&&(d.dataList=i[0]),i[3]!==void 0&&(d.isLoading=i[3]),i[8]!==void 0&&(d.pagination=i[8]),i[5]!==void 0&&(d.selectedPagination=i[5]),e=new nt({props:d}),X.push(()=>Y(e,"dataList",c)),X.push(()=>Y(e,"isLoading",s)),X.push(()=>Y(e,"pagination",a)),X.push(()=>Y(e,"selectedPagination",u)),{c(){h(e.$$.fragment)},m(f,b){k(e,f,b),o=!0},p(f,b){const S={};!r&&b[0]&1&&(r=!0,S.dataList=f[0],Z(()=>r=!1)),!t&&b[0]&8&&(t=!0,S.isLoading=f[3],Z(()=>t=!1)),!l&&b[0]&256&&(l=!0,S.pagination=f[8],Z(()=>l=!1)),!n&&b[0]&32&&(n=!0,S.selectedPagination=f[5],Z(()=>n=!1)),e.$set(S)},i(f){o||(_(e.$$.fragment,f),o=!0)},o(f){p(e.$$.fragment,f),o=!1},d(f){v(e,f)}}}function Wr(i){let e,r,t,l,n,o,c,s;e=new ut({props:{to:i[13]}}),t=new _t({props:{title:"Recurring Invoice",description:"Manage Your Recurring Invoice",hasDivider:!1}});const a=[fr,ar],u=[];function d(f,b){return f[7]?1:0}return n=d(i),o=u[n]=a[n](i),{c(){h(e.$$.fragment),r=P(),h(t.$$.fragment),l=P(),o.c(),c=C()},m(f,b){k(e,f,b),m(f,r,b),k(t,f,b),m(f,l,b),u[n].m(f,b),m(f,c,b),s=!0},p(f,b){let S=n;n=d(f),n===S?u[n].p(f,b):(y(),p(u[S],1,1,()=>{u[S]=null}),B(),o=u[n],o?o.p(f,b):(o=u[n]=a[n](f),o.c()),_(o,1),o.m(c.parentNode,c))},i(f){s||(_(e.$$.fragment,f),_(t.$$.fragment,f),_(o),s=!0)},o(f){p(e.$$.fragment,f),p(t.$$.fragment,f),p(o),s=!1},d(f){f&&($(r),$(l),$(c)),v(e,f),v(t,f),u[n].d(f)}}}let De="recurring invoice",ce="recurring/client-list?",qr=!0;function Gr(i,e,r){let t,l,n,o,c,s,a,u,d,f,b;Q(i,he,w=>r(27,l=w)),Q(i,ot,w=>r(7,n=w)),Q(i,be,w=>r(28,o=w)),Q(i,ve,w=>r(29,c=w)),Q(i,rt,w=>r(30,a=w));const S=[{name:"Recurring",link:"recurring"}];let j=[],fe=!1,G=ge({page:1,perPage:10,totalItems:0,totalPages:0});Q(i,G,w=>r(8,s=w));let E=!1,O,U=!1,ue=!1,_e=ge(j),z={value:(s==null?void 0:s.perPage)??10,label:(s==null?void 0:s.perPage)??10};const Me=()=>{O?r(1,E=!0):r(1,E=!1),le()},le=async()=>{if(U)return;r(3,U=!0);const w=E?`${ce}per_page=${z.value}&search=${O}`:`${ce}per_page=${z.value}&page=${a}`;try{const oe=await Ze(w),{page:qe,per_page:Ge,total_items:Oe,total_pages:ze,items:Xe}=oe.data;r(0,j=Xe),J(G,s={page:qe,perPage:Ge,totalItems:Oe,totalPages:ze},s),J(he,l=!1,l),fe=!qr,r(4,ue=!0)}catch(oe){st(oe,`Failed to get ${De}`)}r(3,U=!1)},{headerRows:pe,rows:me,tableAttrs:$e,tableBodyAttrs:de}=or(G,_e);Q(i,pe,w=>r(10,d=w)),Q(i,me,w=>r(12,b=w)),Q(i,$e,w=>r(9,u=w)),Q(i,de,w=>r(11,f=w));const je=()=>{J(ve,c=$t.ACTIVE.LOWER_CASE,c),J(be,o={active:1,inactive:1,invoice:1,search:1},o)};Ye(()=>{n&&(!E&&!fe&&le(),!E&&l&&le(),je())});function Qe(w){O=w,r(2,O)}const Fe=()=>location.href="#/recurring/create";function Ee(w){j=w,r(0,j)}function Ue(w){U=w,r(3,U)}function Ve(w){s=w,G.set(s)}function We(w){z=w,r(5,z)}return i.$$.update=()=>{i.$$.dirty[0]&1&&_e.set(j),i.$$.dirty[0]&1&&r(6,t=j.length<1)},[j,E,O,U,ue,z,t,n,s,u,d,f,b,S,G,Me,pe,me,$e,de,Qe,Fe,Ee,Ue,Ve,We]}class Ln extends R{constructor(e){super(),T(this,e,Gr,Wr,N,{},null,[-1,-1])}}export{Ln as default};
