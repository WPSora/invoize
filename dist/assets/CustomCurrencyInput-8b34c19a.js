import{S as x,i as $,s as P,e as I,a as pe,d as g,b9 as j,f as q,g as R,D as U,C as L,n as O,k as M,a0 as ye,O as Ce,a4 as Z,o as ee,p as ne,t as E,h as le,j as F,a5 as te,c as ue,m as re,a6 as ae,l as ie}from"./Toaster.svelte_svelte_type_style_lang-7f7e6c6a.js";const be="en-US",Ae="USD",we="total",z=0,De=2,B="currencyInput",W="currencyInput__unformatted",Y="currencyInput__formatted",H="currencyInput__formatted--positive",J="currencyInput__formatted--negative",Q="currencyInput__formatted--zero";function ke(l){let t,e,s,o,r,n,f,a,_,y,b,c,S;return{c(){var i,m,A,D,w,p;t=I("div"),e=I("input"),o=pe(),r=I("input"),g(e,"class",s=j(((i=l[8])==null?void 0:i.unformatted)??W)+" svelte-n0twf6"),g(e,"type","hidden"),g(e,"name",l[2]),e.disabled=l[4],g(r,"class",n=""+(((m=l[8])==null?void 0:m.formatted)??Y)+" "+(l[7]&&!l[12]&&!l[9]?((A=l[8])==null?void 0:A.formattedPositive)??H:"")+" "+(l[12]?((D=l[8])==null?void 0:D.formattedZero)??Q:"")+" "+(l[7]&&l[9]?((w=l[8])==null?void 0:w.formattedNegative)??J:"")+" svelte-n0twf6"),g(r,"type","text"),g(r,"inputmode",f=l[1]>0?"decimal":"numeric"),g(r,"name",a=`formatted-${l[2]}`),r.required=_=l[3]&&!l[12],g(r,"placeholder",y=l[14](l[5])),g(r,"autocomplete",l[6]),r.disabled=l[4],g(t,"class",b=((p=l[8])==null?void 0:p.wrapper)??B)},m(i,m){q(i,t,m),R(t,e),U(e,l[0]),R(t,o),R(t,r),l[23](r),U(r,l[11]),c||(S=[L(e,"input",l[22]),L(r,"input",l[24]),L(r,"keydown",l[13]),L(r,"keyup",l[15]),L(r,"blur",l[16])],c=!0)},p(i,[m]){var A,D,w,p,d,k;m&256&&s!==(s=j(((A=i[8])==null?void 0:A.unformatted)??W)+" svelte-n0twf6")&&g(e,"class",s),m&4&&g(e,"name",i[2]),m&16&&(e.disabled=i[4]),m&1&&U(e,i[0]),m&4992&&n!==(n=""+(((D=i[8])==null?void 0:D.formatted)??Y)+" "+(i[7]&&!i[12]&&!i[9]?((w=i[8])==null?void 0:w.formattedPositive)??H:"")+" "+(i[12]?((p=i[8])==null?void 0:p.formattedZero)??Q:"")+" "+(i[7]&&i[9]?((d=i[8])==null?void 0:d.formattedNegative)??J:"")+" svelte-n0twf6")&&g(r,"class",n),m&2&&f!==(f=i[1]>0?"decimal":"numeric")&&g(r,"inputmode",f),m&4&&a!==(a=`formatted-${i[2]}`)&&g(r,"name",a),m&4104&&_!==(_=i[3]&&!i[12])&&(r.required=_),m&32&&y!==(y=i[14](i[5]))&&g(r,"placeholder",y),m&64&&g(r,"autocomplete",i[6]),m&16&&(r.disabled=i[4]),m&2048&&r.value!==i[11]&&U(r,i[11]),m&256&&b!==(b=((k=i[8])==null?void 0:k.wrapper)??B)&&g(t,"class",b)},i:O,o:O,d(i){i&&M(t),l[23](null),c=!1,ye(S)}}}function Ne(l,t,e){let s,o,r,{value:n=z}=t,{locale:f=be}=t,{currency:a=Ae}=t,{fractionDigits:_=De}=t,{name:y=we}=t,{required:b=!1}=t,{disabled:c=!1}=t,{placeholder:S=z}=t,{autocomplete:i=void 0}=t,{isNegativeAllowed:m=!0}=t,{isZeroNullish:A=!1}=t,{inputClasses:D=null}=t,{onValueChange:w=()=>{}}=t,p,d="";Ce(()=>{v()});function k(u,h,C){return new Intl.NumberFormat(f,{currency:a,style:"currency",maximumFractionDigits:h||0,minimumFractionDigits:C||0}).format(u)}function se(u){const h=u.key==="Backspace"||u.key==="Delete",C=u.metaKey||u.altKey||u.ctrlKey,T=u.key==="ArrowLeft"||u.key==="ArrowRight",de=u.key==="Tab",ge=!/^\d|,|\.|-$/g.test(u.key);function he(){return u.key!==","&&u.key!=="."?!1:N?d.split(",").length>=2:N?!1:d.split(".").length>=2}(he()||!h&&!C&&!T&&ge&&!de)&&u.preventDefault()}function fe(u){return typeof u=="number"?k(u,_,_):u===null?"":u}const V=new Intl.NumberFormat(f).format(1.1).charAt(1),N=V===",",K=k(0,0).replace("0","").replace(/\u00A0/,"");function G(u){if(u){if(u.key===V)return;N&&u.key==="."&&e(11,d=d.replace(/\.([^.]*)$/,V+"$1")),!N&&u.key===","&&e(11,d=d.replace(/\,([^,]*)$/,V+"$1"));const C=[K,`-${K}`,"-"],T=d.replace(" ","");if(C.includes(T))return;u.target,m&&u.key==="-"&&e(0,n=n*-1)}let h=m?d.replace(/[^0-9,.-]/g,""):d.replace(/[^0-9,.]/g,"");if(Number.isNaN(parseFloat(h)))e(0,n=0);else{h=h.replace(N?/\./g:/\,/g,""),N&&(h=h.replace(",","."));const C=n;e(0,n=parseFloat(h)),u&&C===n&&h.includes(".")&&h.split(".")[1].length>_&&v()}}function v(){if(!p)return;const u=p.selectionStart||0,h=d.length;e(11,d=r&&!A?"":k(n,_,document.activeElement===p?0:_)),G();let C=0;for(;h===d.length&&C<10;)C++;if(h!==d.length){const T=u+d.length-h;p==null||p.setSelectionRange(T,T)}w(n)}function ce(){n=this.value,e(0,n)}function me(u){Z[u?"unshift":"push"](()=>{p=u,e(10,p)})}function _e(){d=this.value,e(11,d)}return l.$$set=u=>{"value"in u&&e(0,n=u.value),"locale"in u&&e(17,f=u.locale),"currency"in u&&e(18,a=u.currency),"fractionDigits"in u&&e(1,_=u.fractionDigits),"name"in u&&e(2,y=u.name),"required"in u&&e(3,b=u.required),"disabled"in u&&e(4,c=u.disabled),"placeholder"in u&&e(5,S=u.placeholder),"autocomplete"in u&&e(6,i=u.autocomplete),"isNegativeAllowed"in u&&e(7,m=u.isNegativeAllowed),"isZeroNullish"in u&&e(19,A=u.isZeroNullish),"inputClasses"in u&&e(8,D=u.inputClasses),"onValueChange"in u&&e(20,w=u.onValueChange)},l.$$.update=()=>{l.$$.dirty&1&&e(9,s=n<0),l.$$.dirty&1&&e(21,o=n>0),l.$$.dirty&2097664&&e(12,r=!s&&!o),l.$$.dirty&1&&v()},[n,_,y,b,c,S,i,m,D,s,p,d,r,se,fe,G,v,f,a,A,w,o,ce,me,_e]}class oe extends x{constructor(t){super(),$(this,t,Ne,ke,P,{value:0,locale:17,currency:18,fractionDigits:1,name:2,required:3,disabled:4,placeholder:5,autocomplete:6,isNegativeAllowed:7,isZeroNullish:19,inputClasses:8,onValueChange:20})}}function Te(l){let t=l[1],e,s,o=X(l);return{c(){o.c(),e=ee()},m(r,n){o.m(r,n),q(r,e,n),s=!0},p(r,n){n&2&&P(t,t=r[1])?(ne(),E(o,1,1,O),le(),o=X(r),o.c(),F(o,1),o.m(e.parentNode,e)):o.p(r,n)},i(r){s||(F(o),s=!0)},o(r){E(o),s=!1},d(r){r&&M(e),o.d(r)}}}function Ee(l){let t,e,s;function o(n){l[7](n)}let r={autocomplete:"off",locale:"id",inputClasses:{formatted:`text-sm text-center w-full h-9 !border-border placeholder-muted-foreground ${l[5]}`,wrapper:`w-full ${l[6]}`},currency:"IDR",onValueChange:l[4],placeholder:l[2],isNegativeAllowed:l[3]};return l[0]!==void 0&&(r.value=l[0]),t=new oe({props:r}),Z.push(()=>te(t,"value",o)),{c(){ue(t.$$.fragment)},m(n,f){re(t,n,f),s=!0},p(n,f){const a={};f&96&&(a.inputClasses={formatted:`text-sm text-center w-full h-9 !border-border placeholder-muted-foreground ${n[5]}`,wrapper:`w-full ${n[6]}`}),f&16&&(a.onValueChange=n[4]),f&4&&(a.placeholder=n[2]),f&8&&(a.isNegativeAllowed=n[3]),!e&&f&1&&(e=!0,a.value=n[0],ae(()=>e=!1)),t.$set(a)},i(n){s||(F(t.$$.fragment,n),s=!0)},o(n){E(t.$$.fragment,n),s=!1},d(n){ie(t,n)}}}function X(l){let t,e,s;function o(n){l[8](n)}let r={autocomplete:"off",locale:"en-US",inputClasses:{formatted:`text-sm text-center w-full h-9 !border-border placeholder-muted-foreground ${l[5]}`,wrapper:`w-full ${l[6]}`},currency:l[1]&&l[1]!=="none"?l[1]:"USD",onValueChange:l[4],placeholder:l[2],isNegativeAllowed:l[3]};return l[0]!==void 0&&(r.value=l[0]),t=new oe({props:r}),Z.push(()=>te(t,"value",o)),{c(){ue(t.$$.fragment)},m(n,f){re(t,n,f),s=!0},p(n,f){const a={};f&96&&(a.inputClasses={formatted:`text-sm text-center w-full h-9 !border-border placeholder-muted-foreground ${n[5]}`,wrapper:`w-full ${n[6]}`}),f&2&&(a.currency=n[1]&&n[1]!=="none"?n[1]:"USD"),f&16&&(a.onValueChange=n[4]),f&4&&(a.placeholder=n[2]),f&8&&(a.isNegativeAllowed=n[3]),!e&&f&1&&(e=!0,a.value=n[0],ae(()=>e=!1)),t.$set(a)},i(n){s||(F(t.$$.fragment,n),s=!0)},o(n){E(t.$$.fragment,n),s=!1},d(n){ie(t,n)}}}function Fe(l){let t,e,s,o;const r=[Ee,Te],n=[];function f(a,_){return a[1]==="IDR"?0:1}return t=f(l),e=n[t]=r[t](l),{c(){e.c(),s=ee()},m(a,_){n[t].m(a,_),q(a,s,_),o=!0},p(a,[_]){let y=t;t=f(a),t===y?n[t].p(a,_):(ne(),E(n[y],1,1,()=>{n[y]=null}),le(),e=n[t],e?e.p(a,_):(e=n[t]=r[t](a),e.c()),F(e,1),e.m(s.parentNode,s))},i(a){o||(F(e),o=!0)},o(a){E(e),o=!1},d(a){a&&M(s),n[t].d(a)}}}function Se(l,t,e){let{currencyName:s}=t,{value:o}=t,{placeholder:r="price"}=t,{isNegativeAllowed:n=!1}=t,{onValueChange:f=c=>{}}=t,{inputClass:a=""}=t,{wrapperClass:_=""}=t;function y(c){o=c,e(0,o)}function b(c){o=c,e(0,o)}return l.$$set=c=>{"currencyName"in c&&e(1,s=c.currencyName),"value"in c&&e(0,o=c.value),"placeholder"in c&&e(2,r=c.placeholder),"isNegativeAllowed"in c&&e(3,n=c.isNegativeAllowed),"onValueChange"in c&&e(4,f=c.onValueChange),"inputClass"in c&&e(5,a=c.inputClass),"wrapperClass"in c&&e(6,_=c.wrapperClass)},[o,s,r,n,f,a,_,y,b]}class Ve extends x{constructor(t){super(),$(this,t,Se,Fe,P,{currencyName:1,value:0,placeholder:2,isNegativeAllowed:3,onValueChange:4,inputClass:5,wrapperClass:6})}}export{Ve as C};
